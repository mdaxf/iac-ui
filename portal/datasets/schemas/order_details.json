{
    "$schema": "http://json-schema.org/draft-06/schema#",
    "$ref": "#/definitions/OrderDetails",
    "datasourcetype": "table",
    "datasource": "order_details",
    "listfields":["OrderNo","OrderType","Operation","StepNo","Description","WorkCenter","StationPosition","Status","CreatedBy", "CreatedOn", "UpdatedBy","UpdatedOn", "ID"],
    "keyfield":"ID",
    "query": "Select orders.OrderNo,orders.OrderType,order_details.Operation,order_details.StepNo,order_details.Description,order_details.WorkCenter,order_details.StationPosition,order_details.Status,order_details.CreatedBy,order_details.CreatedOn,order_details.UpdatedBy,order_details.UpdatedOn,order_details.ID from order_details Inner Join orders on orders.ID = order_details.OrderID",
    "detailpage":{
        "tabs": {
            "General": {
                "lng":{
                    "code": "General",
                    "default":"General"
                },
                "index": 0 
            },
            "Links":{
                "lng":{
                    "code": "Links",
                    "default":"Links"
                },
                "index": 1             
            },
            "Histories":{
                "available":{"ID": 
                    {"$ne": 0}
                },
                "lng":{
                    "code": "OrderHistories",
                    "default":"Order Histories"
                },
                "index": 1     
            },
            "System": {
                "lng":{
                    "code": "System",
                    "default":"System"
                },
                "index": 4 
            }
        },
        "General":{
            "tables": [{
                "cols": 3,
                "fields": [
                    {"OrderID":{"link": "orders", "schema":"orders", "field":"OrderNo","keyfield": "ID"}}, "Operation", "StepNo",
                    "Status", "ProgressStatus","MileStone", 
                    "Description", "dummy","dummy", 
                    "WorkCenter", "StationPosition", "dummy", 
                    "ERPOperation", "ERPStation", "dummy",
                    "IncomingLocation", "StageLocation", "OutcomeLocation",
                    "ScheduledStartDate", "ScheduledCompletedDate", "dummy",
                    "ActualStartDate", "ActualCompletedDate","dummy",
                    "LastStartDateTime", "DurationSeconds", "ActualDuractionSeconds",
                    "Active" 
                ]
            },
            {
                "cols":2,
                "type": "action",
                "fields":["save", "cancel"]
            }
        ]
        },
        "System":{
            "tables": [{
                "style":"display: flex;flex-direction: column;",
                "cols": 2,
                "fields":["createdby", "createdon", "updatedby", "updatedon"]
            }]
        },
        "History":{
            "type": "extensionlink",
            "linkfields": [
                {"OrderID": "order_details.OrderID",
                 "Operation": "order_details.Operation",
                 "StepNo": "order_details.StepNo"
                }
             ],
            "keyfield": "ID",
            "targetkeyfield": "OrderID",
            "tablename": "order_histories",
            "tablekeyfield": "ID",
            "schema":"order_histories",                        
            "lng":{
                "code": "OrderHistory",
                "default":"Order History"
            }  ,
            "actions": ["Detail"]     
        },
        "Links":{
            "tables": [{
                "style":"display: flex;flex-direction: column;",
                "cols": 1,
                "fields": [
                    {"Extensions":{
                        "type": "extensionlink",
                        "linkfields": [
                            {"ExtensionID": "extension_values.ExtensionID"}
                        ],
                        "masterschema": "extensions",
                        "keyfield": "ExtensionID",
                        "targetkeyfield": "ExtensionID",
                        "tablename": "extension_values",
                        "maintable": "parts",
                        "maintablekeyfield": "ID",
                        "schema":"extension_values",
                        "lng":{
                            "code": "Extensions",
                            "default":"Extensions"
                        },
                        "actions": ["Add", "Delete"]  
                    }},
                    {"GroupItems":{
                        "type": "extensionlink",
                        "linkfields": [
                            {"ID": "orders.GroupOrderID"}
                        ],
                        "keyfield": "ID",
                        "targetkeyfield": "ID",
                        "tablename": "orders",
                        "tablekeyfield": "ID",
                        "schema":"orders",                        
                        "lng":{
                            "code": "GroupOrders",
                            "default":"Group Orders"
                        }  ,
                        "actions": ["Add", "Delete"]                     
                    }},
                    {"Children":{
                        "type": "extensionlink",
                        "linkfields": [
                            {"ID": "orders.ParentOrderID"}
                        ],
                        "keyfield": "ID",
                        "targetkeyfield": "ID",
                        "tablename": "orders",
                        "tablekeyfield": "ID",
                        "schema":"orders",                        
                        "lng":{
                            "code": "ChildOrders",
                            "default":"Child Orders"
                        }  ,
                        "actions": ["Add", "Delete"]                     
                    }}                     
                ]
            }]
        }
    },    
    "definitions": {
        "OrderDetails":{
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "ID": {
                    "type": "integer",
                    "lng": {
                        "code": "ID",
                        "default": "ID"
                    }
                },
                "OrderID": {
                    "type": "integer",
                    "lng": {
                        "code": "OrderID",
                        "default": "Order ID"
                    }
                },
                "Operation": {
                    "type": "string",
                    "lng": {
                        "code": "Operation",
                        "default": "Operation"
                    }
                },
                "StepNo": {
                    "type": "integer",
                    "lng": {
                        "code": "StepNo",
                        "default": "Step No"
                    }
                },
                "Description": {
                    "type": "string",
                    "lng": {
                        "code": "Description",
                        "default": "Description"
                    }
                },
                "WorkCenter": {
                    "type": "string",
                    "lng": {
                        "code": "WorkCenter",
                        "default": "Work Center"
                    }
                },
                "StationPosition": {
                    "type": "string",
                    "lng": {
                        "code": "StationPosition",
                        "default": "Station Position"
                    }
                },
                "Status": {
                    "type": "integer",
                    "nullvalue":"0",
                    "lng": {
                        "code": "Status",
                        "default": "Status"
                    }
                },
                "ProgressStatus": {
                    "type": "integer",
                    "nullvalue":"0",
                    "lng": {
                        "code": "ProgressStatus",
                        "default": "Progress Status"
                    }
                },
                "ScheduledStartDate": {
                    "type": "string",
                    "format": "datetime",
                    "lng": {
                        "code": "ScheduledStartDate",
                        "default": "Scheduled Start Date"
                    }
                },
                "ScheduledCompletedDate": {
                    "type": "string",
                    "format": "datetime",
                    "lng": {
                        "code": "ScheduledCompletedDate",
                        "default": "Scheduled Completed Date"
                    }
                },
                "ActualStartDate": {
                    "type": "string",
                    "format": "datetime",
                    "lng": {
                        "code": "ActualStartDate",
                        "default": "Actual Start Date"
                    }
                },
                "ActualCompletedDate": {
                    "type": "string",
                    "format": "datetime",
                    "lng": {
                        "code": "ActualCompletedDate",
                        "default": "Actual Completed Date"
                    }
                },
                "LastStartDateTime": {
                    "type": "string",
                    "format": "datetime",
                    "lng": {
                        "code": "LastStartDateTime",
                        "default": "Last Start Date Time"
                    }
                },
                "DurationSeconds": {
                    "type": "integer",
                    "lng": {
                        "code": "DurationSeconds",
                        "default": "Duration Seconds"
                    }
                },
                "ActualDuractionSeconds": {
                    "type": "integer",
                    "lng": {
                        "code": "ActualDuractionSeconds",
                        "default": "Actual Duraction Seconds"
                    }
                },
                "MileStone": {
                    "type": "boolean",
                    "lng": {
                        "code": "MileStone",
                        "default": "Mile Stone"
                    }
                },
                "ERPOperation": {
                    "type": "string",
                    "lng":{
                        "code": "ERPOperation",
                        "default":"ERP Operation"
                    }
                },
                "ERPStation": {
                    "type": "string",
                    "lng":{
                        "code": "ERPStation",
                        "default":"ERP Station"
                    }
                },
                "IncomingLocation": {
                    "type": "string",
                    "lng":{
                        "code": "IncomingLocation",
                        "default":"In Location"
                    }
                },
                "outcomeLocation": {
                    "type": "string",
                    "lng":{
                        "code": "OutcomeLocation",
                        "default":"Out Location"
                    }
                },
                "StageLocation": {
                    "type": "string",
                    "lng":{
                        "code": "StageLocation",
                        "default":"Stage Location"
                    }
                },
                "ExtensionID": {
                    "type": "integer",
                    "nullvalue":0,
                    "lng":{
                        "code": "ExtensionID",
                        "default":"Extension Data"
                    } 
                },
                "Active": {
                    "type": "boolean",
                    "lng": {
                        "code": "Active",
                        "default": "Active"
                    }
                },
                "createdby": {
                    "type": "string",
                    "readonly": true,
                    "lng":{
                        "code": "CreatedBy",
                        "default":"Created By"
                    }
                },
                "createdon": {
                    "type": "string",
                    "format":"datetime",
                    "readonly": true,
                    "lng":{
                        "code": "CreatedOn",
                        "default":"Created On"
                    }

                }
            }  
        },
        "Order":{
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "ID": {
                    "type": "integer",
                    "lng": {
                        "code": "ID",
                        "default": "ID"
                    }
                },
                "OrderNo": {
                    "type": "string",
                    "lng": {
                        "code": "OrderNo",
                        "default": "Order No"
                    }
                },
                "OrderType": {
                    "type": "string",
                    "lng": {
                        "code": "OrderType",
                        "default": "Order Type"
                    }
                },
                "PartID": {
                    "type": "integer",
                    "lng": {
                        "code": "PartNo",
                        "default": "Part No"
                    }
                },
                "OrderQuantity": {
                    "type": "decimal",
                    "lng": {
                        "code": "OrderQuantity",
                        "default": "Order Quantity"
                    }
                },
                "Uom": {
                    "type": "string",
                    "lng": {
                        "code": "Uom",
                        "default": "Uom"
                    }
                },
                "Status": {
                    "type": "integer",
                    "nullvalue":"0",
                    "lng": {
                        "code": "Status",
                        "default": "Status"
                    }
                },
                "ProgressStatus": {
                    "type": "integer",
                    "nullvalue":"0",
                    "lng": {
                        "code": "ProgressStatus",
                        "default": "Progress Status"
                    }
                },
                "Description": {
                    "type": "string",
                    "lng": {
                        "code": "Description",
                        "default": "Description"
                    }
                },
                "GroupOrderID": {
                    "type": "integer",
                    "nullvalue":"0",
                    "lng": {
                        "code": "GroupOrderNo",
                        "default": "Group Order No"
                    }
                },
                "ParentOrderID": {
                    "type": "integer",
                    "nullvalue":"0",
                    "lng": {
                        "code": "ParentOrderNo",
                        "default": "Parent Order No"
                    }
                },
                "ExternalOrderNo": {
                    "type": "string",
                    "nullvalue":"",
                    "lng": {
                        "code": "ExternalOrderNo",
                        "default": "External Order No"
                    }
                },
                "ExternalSystem": {
                    "type": "string",
                    "nullvalue":"",
                    "lng": {
                        "code": "ExternalSystem",
                        "default": "External System"
                    }
                },
                "Factory": {
                    "type": "string",
                    "nullvalue":"",
                    "lng": {
                        "code": "Factory",
                        "default": "Factory"
                    }
                },
                "LineNo": {
                    "type": "string",
                    "nullvalue":"",
                    "lng": {
                        "code": "LineNo",
                        "default": "Line No"
                    }
                },
                "Project": {
                    "type": "string",
                    "nullvalue":"",
                    "lng": {
                        "code": "Project",
                        "default": "Project"
                    }
                },
                "TaskName": {
                    "type": "string",
                    "nullvalue":"",
                    "lng": {
                        "code": "TaskName",
                        "default": "Task Name"
                    }
                },
                "Location": {
                    "type": "string",
                    "nullvalue":"",
                    "lng": {
                        "code": "Location",
                        "default": "Location"
                    }
                },
                "StageLocation": {
                    "type": "string",
                    "nullvalue":"",
                    "lng": {
                        "code": "StageLocation",
                        "default": "Stage Location"
                    }
                },
                "FGLocation": {
                    "type": "string",
                    "nullvalue":"",
                    "lng": {
                        "code": "FGLocation",
                        "default": "FG Location"
                    }
                },
                "ScheduledStartDate": {
                    "type": "string",
                    "format": "datetime",
                    "lng": {
                        "code": "ScheduledStartDate",
                        "default": "Scheduled Start Date"
                    }
                },
                "ScheduledCompletedDate": {
                    "type": "string",
                    "format": "datetime",
                    "lng": {
                        "code": "ScheduledCompletedDate",
                        "default": "Scheduled Completed Date"
                    }
                },
                "ActualStartDate": {
                    "type": "string",
                    "format": "datetime",
                    "lng": {
                        "code": "ActualStartDate",
                        "default": "Actual Start Date"
                    }
                },
                "ActualCompletedDate": {
                    "type": "string",
                    "format": "datetime",
                    "lng": {
                        "code": "ActualCompletedDate",
                        "default": "Actual Completed Date"
                    }
                },
                "DueDate": {
                    "type": "string",
                    "format": "datetime",
                    "lng": {
                        "code": "DueDate",
                        "default": "Due Date"
                    }
                },
                "LastStartDateTime": {
                    "type": "string",
                    "format": "datetime",
                    "lng": {
                        "code": "LastStartDateTime",
                        "default": "Last Start Date Time"
                    }
                },
                "DurationSeconds": {
                    "type": "integer",
                    "lng": {
                        "code": "DurationSeconds",
                        "default": "Duration Seconds"
                    }
                },
                "ActualDuractionSeconds": {
                    "type": "integer",
                    "lng": {
                        "code": "ActualDuractionSeconds",
                        "default": "Actual Duraction Seconds"
                    }
                },
                "ProductionWorkFlowID":{
                    "type": "integer",
                    "nullvalue":"0",
                    "lng": {
                        "code": "ProductionWorkFlowID",
                        "default": "Production Work Flow"
                    }
                },
                "ManageWorkFlowEntityID":{
                    "type": "integer",
                    "nullvalue":"0",
                    "lng": {
                        "code": "ManageWorkFlowEntityID",
                        "default": "Manage Work Flow Entity"
                    }
                },
                "ExtensionID": {
                    "type": "integer",
                    "nullvalue":0,
                    "lng":{
                        "code": "ExtensionID",
                        "default":"Extension Data"
                    } 
                },
                "Active": {
                    "type": "boolean",
                    "lng": {
                        "code": "Active",
                        "default": "Active"
                    }
                },
                "createdby": {
                    "type": "string",
                    "readonly": true,
                    "lng":{
                        "code": "CreatedBy",
                        "default":"Created By"
                    }
                },
                "createdon": {
                    "type": "string",
                    "format":"datetime",
                    "readonly": true,
                    "lng":{
                        "code": "CreatedOn",
                        "default":"Created On"
                    }

                },
                "updatedby": {
                    "type": "string",
                    "readonly": true,
                    "lng":{
                        "code": "UpdatedBy",
                        "default":"Updated By"
                    }
                },
                "updatedon": {
                    "type": "string",
                    "format":"datetime",
                    "readonly": true,
                    "lng":{
                        "code": "UpdatedOn",
                        "default":"Updated On"
                    }

                }
            }     
        },
        "Part": {
            "type": "object",
            "additionalProperties": false,            
            "properties": {
                "ID": {
                    "type": "integer",
                    "lng":{
                        "code": "DB_ID",
                        "default":"ID"
                    } 
                },
                "PartNo": {
                    "type": "string",                   
                    "lng":{
                        "code": "PartNo",
                        "default":"Part No"
                    } 
                },
                "Revision": {
                    "type": "string",                   
                    "lng":{
                        "code": "Revision",
                        "default":"Revision"
                    } 
                },
                "RevisionControl": {
                    "type": "boolean",
                    "lng":{
                        "code": "RevisionControl",
                        "default":"Revision Control"
                    } 
                },
                "Description": {
                    "type": "string",
                    "lng":{
                        "code": "Description",
                        "default":"Description"
                    } 
                },
                "Class": {
                    "type": "string",
                    "lng":{
                        "code": "Class",
                        "default":"Class"
                    } 
                },
                "PartGroup": {
                    "type": "string",
                    "lng":{
                        "code": "Group",
                        "default":"Group"
                    } 
                },
                "PartFamily": {
                    "type": "string",
                    "lng":{
                        "code": "Family",
                        "default":"Family"
                    } 
                },
                "TrackType": {
                    "type": "integer",
                    "options":{
                        "value": [0, 1,2,3],
                        "lngcode":["Bulk","Serialized", "SerializedWithBatch", "Batch"],
                        "default": ["Bulk","Serialized", "SerializedWithBatch", "Batch"]
                     } ,
                    "lng":{
                        "code": "TrackType",
                        "default":"Track Type"
                    } 
                },
                "StoreType": {
                    "type": "integer",
                    "lng":{
                        "code": "StoreType",
                        "default":"Store Type"
                    } 
                },
                "Type": {
                    "type": "integer",
                    "options":{
                        "value": [0,1,2,3,4,5,6,7],
                        "lngcode":["Material","Built", "Mixed", "Phatom", "Kit", "SubAssembly", "Assembly", "Service"],
                        "default": ["Material","Built", "Mixed", "Phatom", "Kit", "SubAssembly", "Assembly", "Service"]
                     },
                    "lng":{
                        "code": "Type",
                        "default":"Type"
                    } 
                },
                "Uom": {
                    "type": "string",
                    "query": "select uom from uoms",
                    "lng":{
                        "code": "Uom",
                        "default":"Uom"
                    } 
                },
                "BatchSize": {
                    "type": "decimal",
                    "lng":{
                        "code": "BatchSize",
                        "default":"Batch Size"
                    } 
                },
                "CodeFormat": {
                    "type": "string",
                    "lng":{
                        "code": "CodeFormat",
                        "default":"Code Format"
                    } 
                },
                "ExtensionID": {
                    "type": "integer",
                    "nullvalue":0,
                    "lng":{
                        "code": "ExtensionID",
                        "default":"Extension Data"
                    } 
                },
                "Active": {
                    "type": "boolean",
                    "readonly": true,
                    "lng":{
                        "code": "Active",
                        "default":"Active"
                    }
                },
                "workspaceSchema": {
                    "type": "string",
                    "lng":{
                        "code": "workspaceSchema",
                        "default":"workspace Schema"
                    } 
                },                
                "createdby": {
                    "type": "string",
                    "readonly": true,
                    "lng":{
                        "code": "CreatedBy",
                        "default":"Created By"
                    }
                },
                "createdon": {
                    "type": "string",
                    "format":"datetime",
                    "readonly": true,
                    "lng":{
                        "code": "CreatedOn",
                        "default":"Created On"
                    }

                },
                "updatedby": {
                    "type": "string",
                    "readonly": true,
                    "lng":{
                        "code": "UpdatedBy",
                        "default":"Updated By"
                    }
                },
                "updatedon": {
                    "type": "string",
                    "format":"datetime",
                    "readonly": true,
                    "lng":{
                        "code": "UpdatedOn",
                        "default":"Updated On"
                    }

                }
            },
            "required": [
                "PartNo",
                "WorkSpaces"
            ],
            "unchangable": ["id"],
            "hidden": ["id"],
            
            "title": "Parts Maintenance"
        }
    }
}