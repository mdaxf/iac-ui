{
  "version": 3,
  "sources": ["../../pica/dist/pica.js"],
  "sourcesContent": ["/*!\n\npica\nhttps://github.com/nodeca/pica\n\n*/\n\n(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.pica = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(_dereq_,module,exports){\n// Collection of math functions\n//\n// 1. Combine components together\n// 2. Has async init to load wasm modules\n//\n'use strict';\n\nvar inherits = _dereq_('inherits');\n\nvar Multimath = _dereq_('multimath');\n\nvar mm_unsharp_mask = _dereq_('./mm_unsharp_mask');\n\nvar mm_resize = _dereq_('./mm_resize');\n\nfunction MathLib(requested_features) {\n  var __requested_features = requested_features || [];\n\n  var features = {\n    js: __requested_features.indexOf('js') >= 0,\n    wasm: __requested_features.indexOf('wasm') >= 0\n  };\n  Multimath.call(this, features);\n  this.features = {\n    js: features.js,\n    wasm: features.wasm && this.has_wasm()\n  };\n  this.use(mm_unsharp_mask);\n  this.use(mm_resize);\n}\n\ninherits(MathLib, Multimath);\n\nMathLib.prototype.resizeAndUnsharp = function resizeAndUnsharp(options, cache) {\n  var result = this.resize(options, cache);\n\n  if (options.unsharpAmount) {\n    this.unsharp_mask(result, options.toWidth, options.toHeight, options.unsharpAmount, options.unsharpRadius, options.unsharpThreshold);\n  }\n\n  return result;\n};\n\nmodule.exports = MathLib;\n\n},{\"./mm_resize\":4,\"./mm_unsharp_mask\":9,\"inherits\":19,\"multimath\":20}],2:[function(_dereq_,module,exports){\n// Resize convolvers, pure JS implementation\n//\n'use strict'; // Precision of fixed FP values\n//var FIXED_FRAC_BITS = 14;\n\nfunction clampTo8(i) {\n  return i < 0 ? 0 : i > 255 ? 255 : i;\n} // Convolve image in horizontal directions and transpose output. In theory,\n// transpose allow:\n//\n// - use the same convolver for both passes (this fails due different\n//   types of input array and temporary buffer)\n// - making vertical pass by horisonltal lines inprove CPU cache use.\n//\n// But in real life this doesn't work :)\n//\n\n\nfunction convolveHorizontally(src, dest, srcW, srcH, destW, filters) {\n  var r, g, b, a;\n  var filterPtr, filterShift, filterSize;\n  var srcPtr, srcY, destX, filterVal;\n  var srcOffset = 0,\n      destOffset = 0; // For each row\n\n  for (srcY = 0; srcY < srcH; srcY++) {\n    filterPtr = 0; // Apply precomputed filters to each destination row point\n\n    for (destX = 0; destX < destW; destX++) {\n      // Get the filter that determines the current output pixel.\n      filterShift = filters[filterPtr++];\n      filterSize = filters[filterPtr++];\n      srcPtr = srcOffset + filterShift * 4 | 0;\n      r = g = b = a = 0; // Apply the filter to the row to get the destination pixel r, g, b, a\n\n      for (; filterSize > 0; filterSize--) {\n        filterVal = filters[filterPtr++]; // Use reverse order to workaround deopts in old v8 (node v.10)\n        // Big thanks to @mraleph (Vyacheslav Egorov) for the tip.\n\n        a = a + filterVal * src[srcPtr + 3] | 0;\n        b = b + filterVal * src[srcPtr + 2] | 0;\n        g = g + filterVal * src[srcPtr + 1] | 0;\n        r = r + filterVal * src[srcPtr] | 0;\n        srcPtr = srcPtr + 4 | 0;\n      } // Bring this value back in range. All of the filter scaling factors\n      // are in fixed point with FIXED_FRAC_BITS bits of fractional part.\n      //\n      // (!) Add 1/2 of value before clamping to get proper rounding. In other\n      // case brightness loss will be noticeable if you resize image with white\n      // border and place it on white background.\n      //\n\n\n      dest[destOffset + 3] = clampTo8(a + (1 << 13) >> 14\n      /*FIXED_FRAC_BITS*/\n      );\n      dest[destOffset + 2] = clampTo8(b + (1 << 13) >> 14\n      /*FIXED_FRAC_BITS*/\n      );\n      dest[destOffset + 1] = clampTo8(g + (1 << 13) >> 14\n      /*FIXED_FRAC_BITS*/\n      );\n      dest[destOffset] = clampTo8(r + (1 << 13) >> 14\n      /*FIXED_FRAC_BITS*/\n      );\n      destOffset = destOffset + srcH * 4 | 0;\n    }\n\n    destOffset = (srcY + 1) * 4 | 0;\n    srcOffset = (srcY + 1) * srcW * 4 | 0;\n  }\n} // Technically, convolvers are the same. But input array and temporary\n// buffer can be of different type (especially, in old browsers). So,\n// keep code in separate functions to avoid deoptimizations & speed loss.\n\n\nfunction convolveVertically(src, dest, srcW, srcH, destW, filters) {\n  var r, g, b, a;\n  var filterPtr, filterShift, filterSize;\n  var srcPtr, srcY, destX, filterVal;\n  var srcOffset = 0,\n      destOffset = 0; // For each row\n\n  for (srcY = 0; srcY < srcH; srcY++) {\n    filterPtr = 0; // Apply precomputed filters to each destination row point\n\n    for (destX = 0; destX < destW; destX++) {\n      // Get the filter that determines the current output pixel.\n      filterShift = filters[filterPtr++];\n      filterSize = filters[filterPtr++];\n      srcPtr = srcOffset + filterShift * 4 | 0;\n      r = g = b = a = 0; // Apply the filter to the row to get the destination pixel r, g, b, a\n\n      for (; filterSize > 0; filterSize--) {\n        filterVal = filters[filterPtr++]; // Use reverse order to workaround deopts in old v8 (node v.10)\n        // Big thanks to @mraleph (Vyacheslav Egorov) for the tip.\n\n        a = a + filterVal * src[srcPtr + 3] | 0;\n        b = b + filterVal * src[srcPtr + 2] | 0;\n        g = g + filterVal * src[srcPtr + 1] | 0;\n        r = r + filterVal * src[srcPtr] | 0;\n        srcPtr = srcPtr + 4 | 0;\n      } // Bring this value back in range. All of the filter scaling factors\n      // are in fixed point with FIXED_FRAC_BITS bits of fractional part.\n      //\n      // (!) Add 1/2 of value before clamping to get proper rounding. In other\n      // case brightness loss will be noticeable if you resize image with white\n      // border and place it on white background.\n      //\n\n\n      dest[destOffset + 3] = clampTo8(a + (1 << 13) >> 14\n      /*FIXED_FRAC_BITS*/\n      );\n      dest[destOffset + 2] = clampTo8(b + (1 << 13) >> 14\n      /*FIXED_FRAC_BITS*/\n      );\n      dest[destOffset + 1] = clampTo8(g + (1 << 13) >> 14\n      /*FIXED_FRAC_BITS*/\n      );\n      dest[destOffset] = clampTo8(r + (1 << 13) >> 14\n      /*FIXED_FRAC_BITS*/\n      );\n      destOffset = destOffset + srcH * 4 | 0;\n    }\n\n    destOffset = (srcY + 1) * 4 | 0;\n    srcOffset = (srcY + 1) * srcW * 4 | 0;\n  }\n}\n\nmodule.exports = {\n  convolveHorizontally: convolveHorizontally,\n  convolveVertically: convolveVertically\n};\n\n},{}],3:[function(_dereq_,module,exports){\n// This is autogenerated file from math.wasm, don't edit.\n//\n'use strict';\n/* eslint-disable max-len */\n\nmodule.exports = 'AGFzbQEAAAAADAZkeWxpbmsAAAAAAAEXA2AAAGAGf39/f39/AGAHf39/f39/fwACDwEDZW52Bm1lbW9yeQIAAAMEAwABAgYGAX8AQQALB1cFEV9fd2FzbV9jYWxsX2N0b3JzAAAIY29udm9sdmUAAQpjb252b2x2ZUhWAAIMX19kc29faGFuZGxlAwAYX193YXNtX2FwcGx5X2RhdGFfcmVsb2NzAAAK7AMDAwABC8YDAQ9/AkAgA0UNACAERQ0AA0AgDCENQQAhE0EAIQcDQCAHQQJqIQYCfyAHQQF0IAVqIgcuAQIiFEUEQEGAwAAhCEGAwAAhCUGAwAAhCkGAwAAhCyAGDAELIBIgBy4BAGohCEEAIQsgFCEHQQAhDiAGIQlBACEPQQAhEANAIAUgCUEBdGouAQAiESAAIAhBAnRqKAIAIgpBGHZsIBBqIRAgCkH/AXEgEWwgC2ohCyAKQRB2Qf8BcSARbCAPaiEPIApBCHZB/wFxIBFsIA5qIQ4gCEEBaiEIIAlBAWohCSAHQQFrIgcNAAsgC0GAQGshCCAOQYBAayEJIA9BgEBrIQogEEGAQGshCyAGIBRqCyEHIAEgDUECdGogCUEOdSIGQf8BIAZB/wFIGyIGQQAgBkEAShtBCHRBgP4DcSAKQQ51IgZB/wEgBkH/AUgbIgZBACAGQQBKG0EQdEGAgPwHcSALQQ51IgZB/wEgBkH/AUgbIgZBACAGQQBKG0EYdHJyIAhBDnUiBkH/ASAGQf8BSBsiBkEAIAZBAEobcjYCACADIA1qIQ0gE0EBaiITIARHDQALIAxBAWoiDCACbCESIAMgDEcNAAsLCx4AQQAgAiADIAQgBSAAEAEgAkEAIAQgBSAGIAEQAQs=';\n\n},{}],4:[function(_dereq_,module,exports){\n'use strict';\n\nmodule.exports = {\n  name: 'resize',\n  fn: _dereq_('./resize'),\n  wasm_fn: _dereq_('./resize_wasm'),\n  wasm_src: _dereq_('./convolve_wasm_base64')\n};\n\n},{\"./convolve_wasm_base64\":3,\"./resize\":5,\"./resize_wasm\":8}],5:[function(_dereq_,module,exports){\n'use strict';\n\nvar createFilters = _dereq_('./resize_filter_gen');\n\nvar convolveHorizontally = _dereq_('./convolve').convolveHorizontally;\n\nvar convolveVertically = _dereq_('./convolve').convolveVertically;\n\nfunction resetAlpha(dst, width, height) {\n  var ptr = 3,\n      len = width * height * 4 | 0;\n\n  while (ptr < len) {\n    dst[ptr] = 0xFF;\n    ptr = ptr + 4 | 0;\n  }\n}\n\nmodule.exports = function resize(options) {\n  var src = options.src;\n  var srcW = options.width;\n  var srcH = options.height;\n  var destW = options.toWidth;\n  var destH = options.toHeight;\n  var scaleX = options.scaleX || options.toWidth / options.width;\n  var scaleY = options.scaleY || options.toHeight / options.height;\n  var offsetX = options.offsetX || 0;\n  var offsetY = options.offsetY || 0;\n  var dest = options.dest || new Uint8Array(destW * destH * 4);\n  var quality = typeof options.quality === 'undefined' ? 3 : options.quality;\n  var alpha = options.alpha || false;\n  var filtersX = createFilters(quality, srcW, destW, scaleX, offsetX),\n      filtersY = createFilters(quality, srcH, destH, scaleY, offsetY);\n  var tmp = new Uint8Array(destW * srcH * 4); // To use single function we need src & tmp of the same type.\n  // But src can be CanvasPixelArray, and tmp - Uint8Array. So, keep\n  // vertical and horizontal passes separately to avoid deoptimization.\n\n  convolveHorizontally(src, tmp, srcW, srcH, destW, filtersX);\n  convolveVertically(tmp, dest, srcH, destW, destH, filtersY); // That's faster than doing checks in convolver.\n  // !!! Note, canvas data is not premultipled. We don't need other\n  // alpha corrections.\n\n  if (!alpha) resetAlpha(dest, destW, destH);\n  return dest;\n};\n\n},{\"./convolve\":2,\"./resize_filter_gen\":6}],6:[function(_dereq_,module,exports){\n// Calculate convolution filters for each destination point,\n// and pack data to Int16Array:\n//\n// [ shift, length, data..., shift2, length2, data..., ... ]\n//\n// - shift - offset in src image\n// - length - filter length (in src points)\n// - data - filter values sequence\n//\n'use strict';\n\nvar FILTER_INFO = _dereq_('./resize_filter_info'); // Precision of fixed FP values\n\n\nvar FIXED_FRAC_BITS = 14;\n\nfunction toFixedPoint(num) {\n  return Math.round(num * ((1 << FIXED_FRAC_BITS) - 1));\n}\n\nmodule.exports = function resizeFilterGen(quality, srcSize, destSize, scale, offset) {\n  var filterFunction = FILTER_INFO[quality].filter;\n  var scaleInverted = 1.0 / scale;\n  var scaleClamped = Math.min(1.0, scale); // For upscale\n  // Filter window (averaging interval), scaled to src image\n\n  var srcWindow = FILTER_INFO[quality].win / scaleClamped;\n  var destPixel, srcPixel, srcFirst, srcLast, filterElementSize, floatFilter, fxpFilter, total, pxl, idx, floatVal, filterTotal, filterVal;\n  var leftNotEmpty, rightNotEmpty, filterShift, filterSize;\n  var maxFilterElementSize = Math.floor((srcWindow + 1) * 2);\n  var packedFilter = new Int16Array((maxFilterElementSize + 2) * destSize);\n  var packedFilterPtr = 0;\n  var slowCopy = !packedFilter.subarray || !packedFilter.set; // For each destination pixel calculate source range and built filter values\n\n  for (destPixel = 0; destPixel < destSize; destPixel++) {\n    // Scaling should be done relative to central pixel point\n    srcPixel = (destPixel + 0.5) * scaleInverted + offset;\n    srcFirst = Math.max(0, Math.floor(srcPixel - srcWindow));\n    srcLast = Math.min(srcSize - 1, Math.ceil(srcPixel + srcWindow));\n    filterElementSize = srcLast - srcFirst + 1;\n    floatFilter = new Float32Array(filterElementSize);\n    fxpFilter = new Int16Array(filterElementSize);\n    total = 0.0; // Fill filter values for calculated range\n\n    for (pxl = srcFirst, idx = 0; pxl <= srcLast; pxl++, idx++) {\n      floatVal = filterFunction((pxl + 0.5 - srcPixel) * scaleClamped);\n      total += floatVal;\n      floatFilter[idx] = floatVal;\n    } // Normalize filter, convert to fixed point and accumulate conversion error\n\n\n    filterTotal = 0;\n\n    for (idx = 0; idx < floatFilter.length; idx++) {\n      filterVal = floatFilter[idx] / total;\n      filterTotal += filterVal;\n      fxpFilter[idx] = toFixedPoint(filterVal);\n    } // Compensate normalization error, to minimize brightness drift\n\n\n    fxpFilter[destSize >> 1] += toFixedPoint(1.0 - filterTotal); //\n    // Now pack filter to useable form\n    //\n    // 1. Trim heading and tailing zero values, and compensate shitf/length\n    // 2. Put all to single array in this format:\n    //\n    //    [ pos shift, data length, value1, value2, value3, ... ]\n    //\n\n    leftNotEmpty = 0;\n\n    while (leftNotEmpty < fxpFilter.length && fxpFilter[leftNotEmpty] === 0) {\n      leftNotEmpty++;\n    }\n\n    if (leftNotEmpty < fxpFilter.length) {\n      rightNotEmpty = fxpFilter.length - 1;\n\n      while (rightNotEmpty > 0 && fxpFilter[rightNotEmpty] === 0) {\n        rightNotEmpty--;\n      }\n\n      filterShift = srcFirst + leftNotEmpty;\n      filterSize = rightNotEmpty - leftNotEmpty + 1;\n      packedFilter[packedFilterPtr++] = filterShift; // shift\n\n      packedFilter[packedFilterPtr++] = filterSize; // size\n\n      if (!slowCopy) {\n        packedFilter.set(fxpFilter.subarray(leftNotEmpty, rightNotEmpty + 1), packedFilterPtr);\n        packedFilterPtr += filterSize;\n      } else {\n        // fallback for old IE < 11, without subarray/set methods\n        for (idx = leftNotEmpty; idx <= rightNotEmpty; idx++) {\n          packedFilter[packedFilterPtr++] = fxpFilter[idx];\n        }\n      }\n    } else {\n      // zero data, write header only\n      packedFilter[packedFilterPtr++] = 0; // shift\n\n      packedFilter[packedFilterPtr++] = 0; // size\n    }\n  }\n\n  return packedFilter;\n};\n\n},{\"./resize_filter_info\":7}],7:[function(_dereq_,module,exports){\n// Filter definitions to build tables for\n// resizing convolvers.\n//\n// Presets for quality 0..3. Filter functions + window size\n//\n'use strict';\n\nmodule.exports = [{\n  // Nearest neibor (Box)\n  win: 0.5,\n  filter: function filter(x) {\n    return x >= -0.5 && x < 0.5 ? 1.0 : 0.0;\n  }\n}, {\n  // Hamming\n  win: 1.0,\n  filter: function filter(x) {\n    if (x <= -1.0 || x >= 1.0) {\n      return 0.0;\n    }\n\n    if (x > -1.19209290E-07 && x < 1.19209290E-07) {\n      return 1.0;\n    }\n\n    var xpi = x * Math.PI;\n    return Math.sin(xpi) / xpi * (0.54 + 0.46 * Math.cos(xpi / 1.0));\n  }\n}, {\n  // Lanczos, win = 2\n  win: 2.0,\n  filter: function filter(x) {\n    if (x <= -2.0 || x >= 2.0) {\n      return 0.0;\n    }\n\n    if (x > -1.19209290E-07 && x < 1.19209290E-07) {\n      return 1.0;\n    }\n\n    var xpi = x * Math.PI;\n    return Math.sin(xpi) / xpi * Math.sin(xpi / 2.0) / (xpi / 2.0);\n  }\n}, {\n  // Lanczos, win = 3\n  win: 3.0,\n  filter: function filter(x) {\n    if (x <= -3.0 || x >= 3.0) {\n      return 0.0;\n    }\n\n    if (x > -1.19209290E-07 && x < 1.19209290E-07) {\n      return 1.0;\n    }\n\n    var xpi = x * Math.PI;\n    return Math.sin(xpi) / xpi * Math.sin(xpi / 3.0) / (xpi / 3.0);\n  }\n}];\n\n},{}],8:[function(_dereq_,module,exports){\n'use strict';\n\nvar createFilters = _dereq_('./resize_filter_gen');\n\nfunction resetAlpha(dst, width, height) {\n  var ptr = 3,\n      len = width * height * 4 | 0;\n\n  while (ptr < len) {\n    dst[ptr] = 0xFF;\n    ptr = ptr + 4 | 0;\n  }\n}\n\nfunction asUint8Array(src) {\n  return new Uint8Array(src.buffer, 0, src.byteLength);\n}\n\nvar IS_LE = true; // should not crash everything on module load in old browsers\n\ntry {\n  IS_LE = new Uint32Array(new Uint8Array([1, 0, 0, 0]).buffer)[0] === 1;\n} catch (__) {}\n\nfunction copyInt16asLE(src, target, target_offset) {\n  if (IS_LE) {\n    target.set(asUint8Array(src), target_offset);\n    return;\n  }\n\n  for (var ptr = target_offset, i = 0; i < src.length; i++) {\n    var data = src[i];\n    target[ptr++] = data & 0xFF;\n    target[ptr++] = data >> 8 & 0xFF;\n  }\n}\n\nmodule.exports = function resize_wasm(options) {\n  var src = options.src;\n  var srcW = options.width;\n  var srcH = options.height;\n  var destW = options.toWidth;\n  var destH = options.toHeight;\n  var scaleX = options.scaleX || options.toWidth / options.width;\n  var scaleY = options.scaleY || options.toHeight / options.height;\n  var offsetX = options.offsetX || 0.0;\n  var offsetY = options.offsetY || 0.0;\n  var dest = options.dest || new Uint8Array(destW * destH * 4);\n  var quality = typeof options.quality === 'undefined' ? 3 : options.quality;\n  var alpha = options.alpha || false;\n  var filtersX = createFilters(quality, srcW, destW, scaleX, offsetX),\n      filtersY = createFilters(quality, srcH, destH, scaleY, offsetY); // destination is 0 too.\n\n  var src_offset = 0; // buffer between convolve passes\n\n  var tmp_offset = this.__align(src_offset + Math.max(src.byteLength, dest.byteLength));\n\n  var filtersX_offset = this.__align(tmp_offset + srcH * destW * 4);\n\n  var filtersY_offset = this.__align(filtersX_offset + filtersX.byteLength);\n\n  var alloc_bytes = filtersY_offset + filtersY.byteLength;\n\n  var instance = this.__instance('resize', alloc_bytes); //\n  // Fill memory block with data to process\n  //\n\n\n  var mem = new Uint8Array(this.__memory.buffer);\n  var mem32 = new Uint32Array(this.__memory.buffer); // 32-bit copy is much faster in chrome\n\n  var src32 = new Uint32Array(src.buffer);\n  mem32.set(src32); // We should guarantee LE bytes order. Filters are not big, so\n  // speed difference is not significant vs direct .set()\n\n  copyInt16asLE(filtersX, mem, filtersX_offset);\n  copyInt16asLE(filtersY, mem, filtersY_offset); //\n  // Now call webassembly method\n  // emsdk does method names with '_'\n\n  var fn = instance.exports.convolveHV || instance.exports._convolveHV;\n  fn(filtersX_offset, filtersY_offset, tmp_offset, srcW, srcH, destW, destH); //\n  // Copy data back to typed array\n  //\n  // 32-bit copy is much faster in chrome\n\n  var dest32 = new Uint32Array(dest.buffer);\n  dest32.set(new Uint32Array(this.__memory.buffer, 0, destH * destW)); // That's faster than doing checks in convolver.\n  // !!! Note, canvas data is not premultipled. We don't need other\n  // alpha corrections.\n\n  if (!alpha) resetAlpha(dest, destW, destH);\n  return dest;\n};\n\n},{\"./resize_filter_gen\":6}],9:[function(_dereq_,module,exports){\n'use strict';\n\nmodule.exports = {\n  name: 'unsharp_mask',\n  fn: _dereq_('./unsharp_mask'),\n  wasm_fn: _dereq_('./unsharp_mask_wasm'),\n  wasm_src: _dereq_('./unsharp_mask_wasm_base64')\n};\n\n},{\"./unsharp_mask\":10,\"./unsharp_mask_wasm\":11,\"./unsharp_mask_wasm_base64\":12}],10:[function(_dereq_,module,exports){\n// Unsharp mask filter\n//\n// http://stackoverflow.com/a/23322820/1031804\n// USM(O) = O + (2 * (Amount / 100) * (O - GB))\n// GB - gaussian blur.\n//\n// Image is converted from RGB to HSV, unsharp mask is applied to the\n// brightness channel and then image is converted back to RGB.\n//\n'use strict';\n\nvar glur_mono16 = _dereq_('glur/mono16');\n\nfunction hsv_v16(img, width, height) {\n  var size = width * height;\n  var out = new Uint16Array(size);\n  var r, g, b, max;\n\n  for (var i = 0; i < size; i++) {\n    r = img[4 * i];\n    g = img[4 * i + 1];\n    b = img[4 * i + 2];\n    max = r >= g && r >= b ? r : g >= b && g >= r ? g : b;\n    out[i] = max << 8;\n  }\n\n  return out;\n}\n\nmodule.exports = function unsharp(img, width, height, amount, radius, threshold) {\n  var v1, v2, vmul;\n  var diff, iTimes4;\n\n  if (amount === 0 || radius < 0.5) {\n    return;\n  }\n\n  if (radius > 2.0) {\n    radius = 2.0;\n  }\n\n  var brightness = hsv_v16(img, width, height);\n  var blured = new Uint16Array(brightness); // copy, because blur modify src\n\n  glur_mono16(blured, width, height, radius);\n  var amountFp = amount / 100 * 0x1000 + 0.5 | 0;\n  var thresholdFp = threshold << 8;\n  var size = width * height;\n  /* eslint-disable indent */\n\n  for (var i = 0; i < size; i++) {\n    v1 = brightness[i];\n    diff = v1 - blured[i];\n\n    if (Math.abs(diff) >= thresholdFp) {\n      // add unsharp mask to the brightness channel\n      v2 = v1 + (amountFp * diff + 0x800 >> 12); // Both v1 and v2 are within [0.0 .. 255.0] (0000-FF00) range, never going into\n      // [255.003 .. 255.996] (FF01-FFFF). This allows to round this value as (x+.5)|0\n      // later without overflowing.\n\n      v2 = v2 > 0xff00 ? 0xff00 : v2;\n      v2 = v2 < 0x0000 ? 0x0000 : v2; // Avoid division by 0. V=0 means rgb(0,0,0), unsharp with unsharpAmount>0 cannot\n      // change this value (because diff between colors gets inflated), so no need to verify correctness.\n\n      v1 = v1 !== 0 ? v1 : 1; // Multiplying V in HSV model by a constant is equivalent to multiplying each component\n      // in RGB by the same constant (same for HSL), see also:\n      // https://beesbuzz.biz/code/16-hsv-color-transforms\n\n      vmul = (v2 << 12) / v1 | 0; // Result will be in [0..255] range because:\n      //  - all numbers are positive\n      //  - r,g,b <= (v1/256)\n      //  - r,g,b,(v1/256),(v2/256) <= 255\n      // So highest this number can get is X*255/X+0.5=255.5 which is < 256 and rounds down.\n\n      iTimes4 = i * 4;\n      img[iTimes4] = img[iTimes4] * vmul + 0x800 >> 12; // R\n\n      img[iTimes4 + 1] = img[iTimes4 + 1] * vmul + 0x800 >> 12; // G\n\n      img[iTimes4 + 2] = img[iTimes4 + 2] * vmul + 0x800 >> 12; // B\n    }\n  }\n};\n\n},{\"glur/mono16\":18}],11:[function(_dereq_,module,exports){\n'use strict';\n\nmodule.exports = function unsharp(img, width, height, amount, radius, threshold) {\n  if (amount === 0 || radius < 0.5) {\n    return;\n  }\n\n  if (radius > 2.0) {\n    radius = 2.0;\n  }\n\n  var pixels = width * height;\n  var img_bytes_cnt = pixels * 4;\n  var hsv_bytes_cnt = pixels * 2;\n  var blur_bytes_cnt = pixels * 2;\n  var blur_line_byte_cnt = Math.max(width, height) * 4; // float32 array\n\n  var blur_coeffs_byte_cnt = 8 * 4; // float32 array\n\n  var img_offset = 0;\n  var hsv_offset = img_bytes_cnt;\n  var blur_offset = hsv_offset + hsv_bytes_cnt;\n  var blur_tmp_offset = blur_offset + blur_bytes_cnt;\n  var blur_line_offset = blur_tmp_offset + blur_bytes_cnt;\n  var blur_coeffs_offset = blur_line_offset + blur_line_byte_cnt;\n\n  var instance = this.__instance('unsharp_mask', img_bytes_cnt + hsv_bytes_cnt + blur_bytes_cnt * 2 + blur_line_byte_cnt + blur_coeffs_byte_cnt, {\n    exp: Math.exp\n  }); // 32-bit copy is much faster in chrome\n\n\n  var img32 = new Uint32Array(img.buffer);\n  var mem32 = new Uint32Array(this.__memory.buffer);\n  mem32.set(img32); // HSL\n\n  var fn = instance.exports.hsv_v16 || instance.exports._hsv_v16;\n  fn(img_offset, hsv_offset, width, height); // BLUR\n\n  fn = instance.exports.blurMono16 || instance.exports._blurMono16;\n  fn(hsv_offset, blur_offset, blur_tmp_offset, blur_line_offset, blur_coeffs_offset, width, height, radius); // UNSHARP\n\n  fn = instance.exports.unsharp || instance.exports._unsharp;\n  fn(img_offset, img_offset, hsv_offset, blur_offset, width, height, amount, threshold); // 32-bit copy is much faster in chrome\n\n  img32.set(new Uint32Array(this.__memory.buffer, 0, pixels));\n};\n\n},{}],12:[function(_dereq_,module,exports){\n// This is autogenerated file from math.wasm, don't edit.\n//\n'use strict';\n/* eslint-disable max-len */\n\nmodule.exports = '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';\n\n},{}],13:[function(_dereq_,module,exports){\n'use strict';\n\nvar GC_INTERVAL = 100;\n\nfunction Pool(create, idle) {\n  this.create = create;\n  this.available = [];\n  this.acquired = {};\n  this.lastId = 1;\n  this.timeoutId = 0;\n  this.idle = idle || 2000;\n}\n\nPool.prototype.acquire = function () {\n  var _this = this;\n\n  var resource;\n\n  if (this.available.length !== 0) {\n    resource = this.available.pop();\n  } else {\n    resource = this.create();\n    resource.id = this.lastId++;\n\n    resource.release = function () {\n      return _this.release(resource);\n    };\n  }\n\n  this.acquired[resource.id] = resource;\n  return resource;\n};\n\nPool.prototype.release = function (resource) {\n  var _this2 = this;\n\n  delete this.acquired[resource.id];\n  resource.lastUsed = Date.now();\n  this.available.push(resource);\n\n  if (this.timeoutId === 0) {\n    this.timeoutId = setTimeout(function () {\n      return _this2.gc();\n    }, GC_INTERVAL);\n  }\n};\n\nPool.prototype.gc = function () {\n  var _this3 = this;\n\n  var now = Date.now();\n  this.available = this.available.filter(function (resource) {\n    if (now - resource.lastUsed > _this3.idle) {\n      resource.destroy();\n      return false;\n    }\n\n    return true;\n  });\n\n  if (this.available.length !== 0) {\n    this.timeoutId = setTimeout(function () {\n      return _this3.gc();\n    }, GC_INTERVAL);\n  } else {\n    this.timeoutId = 0;\n  }\n};\n\nmodule.exports = Pool;\n\n},{}],14:[function(_dereq_,module,exports){\n// Add intermediate resizing steps when scaling down by a very large factor.\n//\n// For example, when resizing 10000x10000 down to 10x10, it'll resize it to\n// 300x300 first.\n//\n// It's needed because tiler has issues when the entire tile is scaled down\n// to a few pixels (1024px source tile with border size 3 should result in\n// at least 3+3+2 = 8px target tile, so max scale factor is 128 here).\n//\n// Also, adding intermediate steps can speed up processing if we use lower\n// quality algorithms for first stages.\n//\n'use strict'; // min size = 0 results in infinite loop,\n// min size = 1 can consume large amount of memory\n\nvar MIN_INNER_TILE_SIZE = 2;\n\nmodule.exports = function createStages(fromWidth, fromHeight, toWidth, toHeight, srcTileSize, destTileBorder) {\n  var scaleX = toWidth / fromWidth;\n  var scaleY = toHeight / fromHeight; // derived from createRegions equation:\n  // innerTileWidth = pixelFloor(srcTileSize * scaleX) - 2 * destTileBorder;\n\n  var minScale = (2 * destTileBorder + MIN_INNER_TILE_SIZE + 1) / srcTileSize; // refuse to scale image multiple times by less than twice each time,\n  // it could only happen because of invalid options\n\n  if (minScale > 0.5) return [[toWidth, toHeight]];\n  var stageCount = Math.ceil(Math.log(Math.min(scaleX, scaleY)) / Math.log(minScale)); // no additional resizes are necessary,\n  // stageCount can be zero or be negative when enlarging the image\n\n  if (stageCount <= 1) return [[toWidth, toHeight]];\n  var result = [];\n\n  for (var i = 0; i < stageCount; i++) {\n    var width = Math.round(Math.pow(Math.pow(fromWidth, stageCount - i - 1) * Math.pow(toWidth, i + 1), 1 / stageCount));\n    var height = Math.round(Math.pow(Math.pow(fromHeight, stageCount - i - 1) * Math.pow(toHeight, i + 1), 1 / stageCount));\n    result.push([width, height]);\n  }\n\n  return result;\n};\n\n},{}],15:[function(_dereq_,module,exports){\n// Split original image into multiple 1024x1024 chunks to reduce memory usage\n// (images have to be unpacked into typed arrays for resizing) and allow\n// parallel processing of multiple tiles at a time.\n//\n'use strict';\n/*\n * pixelFloor and pixelCeil are modified versions of Math.floor and Math.ceil\n * functions which take into account floating point arithmetic errors.\n * Those errors can cause undesired increments/decrements of sizes and offsets:\n * Math.ceil(36 / (36 / 500)) = 501\n * pixelCeil(36 / (36 / 500)) = 500\n */\n\nvar PIXEL_EPSILON = 1e-5;\n\nfunction pixelFloor(x) {\n  var nearest = Math.round(x);\n\n  if (Math.abs(x - nearest) < PIXEL_EPSILON) {\n    return nearest;\n  }\n\n  return Math.floor(x);\n}\n\nfunction pixelCeil(x) {\n  var nearest = Math.round(x);\n\n  if (Math.abs(x - nearest) < PIXEL_EPSILON) {\n    return nearest;\n  }\n\n  return Math.ceil(x);\n}\n\nmodule.exports = function createRegions(options) {\n  var scaleX = options.toWidth / options.width;\n  var scaleY = options.toHeight / options.height;\n  var innerTileWidth = pixelFloor(options.srcTileSize * scaleX) - 2 * options.destTileBorder;\n  var innerTileHeight = pixelFloor(options.srcTileSize * scaleY) - 2 * options.destTileBorder; // prevent infinite loop, this should never happen\n\n  if (innerTileWidth < 1 || innerTileHeight < 1) {\n    throw new Error('Internal error in pica: target tile width/height is too small.');\n  }\n\n  var x, y;\n  var innerX, innerY, toTileWidth, toTileHeight;\n  var tiles = [];\n  var tile; // we go top-to-down instead of left-to-right to make image displayed from top to\n  // doesn in the browser\n\n  for (innerY = 0; innerY < options.toHeight; innerY += innerTileHeight) {\n    for (innerX = 0; innerX < options.toWidth; innerX += innerTileWidth) {\n      x = innerX - options.destTileBorder;\n\n      if (x < 0) {\n        x = 0;\n      }\n\n      toTileWidth = innerX + innerTileWidth + options.destTileBorder - x;\n\n      if (x + toTileWidth >= options.toWidth) {\n        toTileWidth = options.toWidth - x;\n      }\n\n      y = innerY - options.destTileBorder;\n\n      if (y < 0) {\n        y = 0;\n      }\n\n      toTileHeight = innerY + innerTileHeight + options.destTileBorder - y;\n\n      if (y + toTileHeight >= options.toHeight) {\n        toTileHeight = options.toHeight - y;\n      }\n\n      tile = {\n        toX: x,\n        toY: y,\n        toWidth: toTileWidth,\n        toHeight: toTileHeight,\n        toInnerX: innerX,\n        toInnerY: innerY,\n        toInnerWidth: innerTileWidth,\n        toInnerHeight: innerTileHeight,\n        offsetX: x / scaleX - pixelFloor(x / scaleX),\n        offsetY: y / scaleY - pixelFloor(y / scaleY),\n        scaleX: scaleX,\n        scaleY: scaleY,\n        x: pixelFloor(x / scaleX),\n        y: pixelFloor(y / scaleY),\n        width: pixelCeil(toTileWidth / scaleX),\n        height: pixelCeil(toTileHeight / scaleY)\n      };\n      tiles.push(tile);\n    }\n  }\n\n  return tiles;\n};\n\n},{}],16:[function(_dereq_,module,exports){\n'use strict';\n\nfunction objClass(obj) {\n  return Object.prototype.toString.call(obj);\n}\n\nmodule.exports.isCanvas = function isCanvas(element) {\n  var cname = objClass(element);\n  return cname === '[object HTMLCanvasElement]'\n  /* browser */\n  || cname === '[object OffscreenCanvas]' || cname === '[object Canvas]'\n  /* node-canvas */\n  ;\n};\n\nmodule.exports.isImage = function isImage(element) {\n  return objClass(element) === '[object HTMLImageElement]';\n};\n\nmodule.exports.isImageBitmap = function isImageBitmap(element) {\n  return objClass(element) === '[object ImageBitmap]';\n};\n\nmodule.exports.limiter = function limiter(concurrency) {\n  var active = 0,\n      queue = [];\n\n  function roll() {\n    if (active < concurrency && queue.length) {\n      active++;\n      queue.shift()();\n    }\n  }\n\n  return function limit(fn) {\n    return new Promise(function (resolve, reject) {\n      queue.push(function () {\n        fn().then(function (result) {\n          resolve(result);\n          active--;\n          roll();\n        }, function (err) {\n          reject(err);\n          active--;\n          roll();\n        });\n      });\n      roll();\n    });\n  };\n};\n\nmodule.exports.cib_quality_name = function cib_quality_name(num) {\n  switch (num) {\n    case 0:\n      return 'pixelated';\n\n    case 1:\n      return 'low';\n\n    case 2:\n      return 'medium';\n  }\n\n  return 'high';\n};\n\nmodule.exports.cib_support = function cib_support(createCanvas) {\n  return Promise.resolve().then(function () {\n    if (typeof createImageBitmap === 'undefined') {\n      return false;\n    }\n\n    var c = createCanvas(100, 100);\n    return createImageBitmap(c, 0, 0, 100, 100, {\n      resizeWidth: 10,\n      resizeHeight: 10,\n      resizeQuality: 'high'\n    }).then(function (bitmap) {\n      var status = bitmap.width === 10; // Branch below is filtered on upper level. We do not call resize\n      // detection for basic ImageBitmap.\n      //\n      // https://developer.mozilla.org/en-US/docs/Web/API/ImageBitmap\n      // old Crome 51 has ImageBitmap without .close(). Then this code\n      // will throw and return 'false' as expected.\n      //\n\n      bitmap.close();\n      c = null;\n      return status;\n    });\n  })[\"catch\"](function () {\n    return false;\n  });\n};\n\nmodule.exports.worker_offscreen_canvas_support = function worker_offscreen_canvas_support() {\n  return new Promise(function (resolve, reject) {\n    if (typeof OffscreenCanvas === 'undefined') {\n      // if OffscreenCanvas is present, we assume browser supports Worker and built-in Promise as well\n      resolve(false);\n      return;\n    }\n\n    function workerPayload(self) {\n      if (typeof createImageBitmap === 'undefined') {\n        self.postMessage(false);\n        return;\n      }\n\n      Promise.resolve().then(function () {\n        var canvas = new OffscreenCanvas(10, 10); // test that 2d context can be used in worker\n\n        var ctx = canvas.getContext('2d');\n        ctx.rect(0, 0, 1, 1); // test that cib can be used to return image bitmap from worker\n\n        return createImageBitmap(canvas, 0, 0, 1, 1);\n      }).then(function () {\n        return self.postMessage(true);\n      }, function () {\n        return self.postMessage(false);\n      });\n    }\n\n    var code = btoa(\"(\".concat(workerPayload.toString(), \")(self);\"));\n    var w = new Worker(\"data:text/javascript;base64,\".concat(code));\n\n    w.onmessage = function (ev) {\n      return resolve(ev.data);\n    };\n\n    w.onerror = reject;\n  }).then(function (result) {\n    return result;\n  }, function () {\n    return false;\n  });\n}; // Check if canvas.getContext('2d').getImageData can be used,\n// FireFox randomizes the output of that function in `privacy.resistFingerprinting` mode\n\n\nmodule.exports.can_use_canvas = function can_use_canvas(createCanvas) {\n  var usable = false;\n\n  try {\n    var canvas = createCanvas(2, 1);\n    var ctx = canvas.getContext('2d');\n    var d = ctx.createImageData(2, 1);\n    d.data[0] = 12;\n    d.data[1] = 23;\n    d.data[2] = 34;\n    d.data[3] = 255;\n    d.data[4] = 45;\n    d.data[5] = 56;\n    d.data[6] = 67;\n    d.data[7] = 255;\n    ctx.putImageData(d, 0, 0);\n    d = null;\n    d = ctx.getImageData(0, 0, 2, 1);\n\n    if (d.data[0] === 12 && d.data[1] === 23 && d.data[2] === 34 && d.data[3] === 255 && d.data[4] === 45 && d.data[5] === 56 && d.data[6] === 67 && d.data[7] === 255) {\n      usable = true;\n    }\n  } catch (err) {}\n\n  return usable;\n}; // Check if createImageBitmap(img, sx, sy, sw, sh) signature works correctly\n// with JPEG images oriented with Exif;\n// https://bugs.chromium.org/p/chromium/issues/detail?id=1220671\n// TODO: remove after it's fixed in chrome for at least 2 releases\n\n\nmodule.exports.cib_can_use_region = function cib_can_use_region() {\n  return new Promise(function (resolve) {\n    if (typeof createImageBitmap === 'undefined') {\n      resolve(false);\n      return;\n    }\n\n    var image = new Image();\n    image.src = 'data:image/jpeg;base64,' + '/9j/4QBiRXhpZgAATU0AKgAAAAgABQESAAMAAAABAAYAAAEaAAUAAAABAAAASgEbAAUAA' + 'AABAAAAUgEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAAAAABIAAAAAQAAAEgAAAAB/9' + 'sAQwAEAwMEAwMEBAMEBQQEBQYKBwYGBgYNCQoICg8NEBAPDQ8OERMYFBESFxIODxUcFRc' + 'ZGRsbGxAUHR8dGh8YGhsa/9sAQwEEBQUGBQYMBwcMGhEPERoaGhoaGhoaGhoaGhoaGhoa' + 'GhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoa/8IAEQgAAQACAwERAAIRAQMRA' + 'f/EABQAAQAAAAAAAAAAAAAAAAAAAAf/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAA' + 'IQAxAAAAF/P//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAQUCf//EABQRAQAAAAA' + 'AAAAAAAAAAAAAAAD/2gAIAQMBAT8Bf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIB' + 'AT8Bf//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEABj8Cf//EABQQAQAAAAAAAAAAA' + 'AAAAAAAAAD/2gAIAQEAAT8hf//aAAwDAQACAAMAAAAQH//EABQRAQAAAAAAAAAAAAAAAA' + 'AAAAD/2gAIAQMBAT8Qf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIBAT8Qf//EABQ' + 'QAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAT8Qf//Z';\n\n    image.onload = function () {\n      createImageBitmap(image, 0, 0, image.width, image.height).then(function (bitmap) {\n        if (bitmap.width === image.width && bitmap.height === image.height) {\n          resolve(true);\n        } else {\n          resolve(false);\n        }\n      }, function () {\n        return resolve(false);\n      });\n    };\n\n    image.onerror = function () {\n      return resolve(false);\n    };\n  });\n};\n\n},{}],17:[function(_dereq_,module,exports){\n// Web Worker wrapper for image resize function\n'use strict';\n\nmodule.exports = function () {\n  var MathLib = _dereq_('./mathlib');\n\n  var mathLib;\n  /* eslint-disable no-undef */\n\n  onmessage = function onmessage(ev) {\n    var tileOpts = ev.data.opts;\n    var returnBitmap = false;\n\n    if (!tileOpts.src && tileOpts.srcBitmap) {\n      var canvas = new OffscreenCanvas(tileOpts.width, tileOpts.height);\n      var ctx = canvas.getContext('2d', {\n        alpha: Boolean(tileOpts.alpha)\n      });\n      ctx.drawImage(tileOpts.srcBitmap, 0, 0);\n      tileOpts.src = ctx.getImageData(0, 0, tileOpts.width, tileOpts.height).data;\n      canvas.width = canvas.height = 0;\n      canvas = null;\n      tileOpts.srcBitmap.close();\n      tileOpts.srcBitmap = null; // Temporary force out data to typed array, because Chrome have artefacts\n      // https://github.com/nodeca/pica/issues/223\n      // returnBitmap = true;\n    }\n\n    if (!mathLib) mathLib = new MathLib(ev.data.features); // Use multimath's sync auto-init. Avoid Promise use in old browsers,\n    // because polyfills are not propagated to webworker.\n\n    var data = mathLib.resizeAndUnsharp(tileOpts);\n\n    if (returnBitmap) {\n      var toImageData = new ImageData(new Uint8ClampedArray(data), tileOpts.toWidth, tileOpts.toHeight);\n\n      var _canvas = new OffscreenCanvas(tileOpts.toWidth, tileOpts.toHeight);\n\n      var _ctx = _canvas.getContext('2d', {\n        alpha: Boolean(tileOpts.alpha)\n      });\n\n      _ctx.putImageData(toImageData, 0, 0);\n\n      createImageBitmap(_canvas).then(function (bitmap) {\n        postMessage({\n          bitmap: bitmap\n        }, [bitmap]);\n      });\n    } else {\n      postMessage({\n        data: data\n      }, [data.buffer]);\n    }\n  };\n};\n\n},{\"./mathlib\":1}],18:[function(_dereq_,module,exports){\n// Calculate Gaussian blur of an image using IIR filter\n// The method is taken from Intel's white paper and code example attached to it:\n// https://software.intel.com/en-us/articles/iir-gaussian-blur-filter\n// -implementation-using-intel-advanced-vector-extensions\n\nvar a0, a1, a2, a3, b1, b2, left_corner, right_corner;\n\nfunction gaussCoef(sigma) {\n  if (sigma < 0.5) {\n    sigma = 0.5;\n  }\n\n  var a = Math.exp(0.726 * 0.726) / sigma,\n      g1 = Math.exp(-a),\n      g2 = Math.exp(-2 * a),\n      k = (1 - g1) * (1 - g1) / (1 + 2 * a * g1 - g2);\n\n  a0 = k;\n  a1 = k * (a - 1) * g1;\n  a2 = k * (a + 1) * g1;\n  a3 = -k * g2;\n  b1 = 2 * g1;\n  b2 = -g2;\n  left_corner = (a0 + a1) / (1 - b1 - b2);\n  right_corner = (a2 + a3) / (1 - b1 - b2);\n\n  // Attempt to force type to FP32.\n  return new Float32Array([ a0, a1, a2, a3, b1, b2, left_corner, right_corner ]);\n}\n\nfunction convolveMono16(src, out, line, coeff, width, height) {\n  // takes src image and writes the blurred and transposed result into out\n\n  var prev_src, curr_src, curr_out, prev_out, prev_prev_out;\n  var src_index, out_index, line_index;\n  var i, j;\n  var coeff_a0, coeff_a1, coeff_b1, coeff_b2;\n\n  for (i = 0; i < height; i++) {\n    src_index = i * width;\n    out_index = i;\n    line_index = 0;\n\n    // left to right\n    prev_src = src[src_index];\n    prev_prev_out = prev_src * coeff[6];\n    prev_out = prev_prev_out;\n\n    coeff_a0 = coeff[0];\n    coeff_a1 = coeff[1];\n    coeff_b1 = coeff[4];\n    coeff_b2 = coeff[5];\n\n    for (j = 0; j < width; j++) {\n      curr_src = src[src_index];\n\n      curr_out = curr_src * coeff_a0 +\n                 prev_src * coeff_a1 +\n                 prev_out * coeff_b1 +\n                 prev_prev_out * coeff_b2;\n\n      prev_prev_out = prev_out;\n      prev_out = curr_out;\n      prev_src = curr_src;\n\n      line[line_index] = prev_out;\n      line_index++;\n      src_index++;\n    }\n\n    src_index--;\n    line_index--;\n    out_index += height * (width - 1);\n\n    // right to left\n    prev_src = src[src_index];\n    prev_prev_out = prev_src * coeff[7];\n    prev_out = prev_prev_out;\n    curr_src = prev_src;\n\n    coeff_a0 = coeff[2];\n    coeff_a1 = coeff[3];\n\n    for (j = width - 1; j >= 0; j--) {\n      curr_out = curr_src * coeff_a0 +\n                 prev_src * coeff_a1 +\n                 prev_out * coeff_b1 +\n                 prev_prev_out * coeff_b2;\n\n      prev_prev_out = prev_out;\n      prev_out = curr_out;\n\n      prev_src = curr_src;\n      curr_src = src[src_index];\n\n      out[out_index] = line[line_index] + prev_out;\n\n      src_index--;\n      line_index--;\n      out_index -= height;\n    }\n  }\n}\n\n\nfunction blurMono16(src, width, height, radius) {\n  // Quick exit on zero radius\n  if (!radius) { return; }\n\n  var out      = new Uint16Array(src.length),\n      tmp_line = new Float32Array(Math.max(width, height));\n\n  var coeff = gaussCoef(radius);\n\n  convolveMono16(src, out, tmp_line, coeff, width, height, radius);\n  convolveMono16(out, src, tmp_line, coeff, height, width, radius);\n}\n\nmodule.exports = blurMono16;\n\n},{}],19:[function(_dereq_,module,exports){\nif (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n\n},{}],20:[function(_dereq_,module,exports){\n'use strict';\n\n\nvar assign         = _dereq_('object-assign');\nvar base64decode   = _dereq_('./lib/base64decode');\nvar hasWebAssembly = _dereq_('./lib/wa_detect');\n\n\nvar DEFAULT_OPTIONS = {\n  js: true,\n  wasm: true\n};\n\n\nfunction MultiMath(options) {\n  if (!(this instanceof MultiMath)) return new MultiMath(options);\n\n  var opts = assign({}, DEFAULT_OPTIONS, options || {});\n\n  this.options         = opts;\n\n  this.__cache         = {};\n\n  this.__init_promise  = null;\n  this.__modules       = opts.modules || {};\n  this.__memory        = null;\n  this.__wasm          = {};\n\n  this.__isLE = ((new Uint32Array((new Uint8Array([ 1, 0, 0, 0 ])).buffer))[0] === 1);\n\n  if (!this.options.js && !this.options.wasm) {\n    throw new Error('mathlib: at least \"js\" or \"wasm\" should be enabled');\n  }\n}\n\n\nMultiMath.prototype.has_wasm = hasWebAssembly;\n\n\nMultiMath.prototype.use = function (module) {\n  this.__modules[module.name] = module;\n\n  // Pin the best possible implementation\n  if (this.options.wasm && this.has_wasm() && module.wasm_fn) {\n    this[module.name] = module.wasm_fn;\n  } else {\n    this[module.name] = module.fn;\n  }\n\n  return this;\n};\n\n\nMultiMath.prototype.init = function () {\n  if (this.__init_promise) return this.__init_promise;\n\n  if (!this.options.js && this.options.wasm && !this.has_wasm()) {\n    return Promise.reject(new Error('mathlib: only \"wasm\" was enabled, but it\\'s not supported'));\n  }\n\n  var self = this;\n\n  this.__init_promise = Promise.all(Object.keys(self.__modules).map(function (name) {\n    var module = self.__modules[name];\n\n    if (!self.options.wasm || !self.has_wasm() || !module.wasm_fn) return null;\n\n    // If already compiled - exit\n    if (self.__wasm[name]) return null;\n\n    // Compile wasm source\n    return WebAssembly.compile(self.__base64decode(module.wasm_src))\n      .then(function (m) { self.__wasm[name] = m; });\n  }))\n    .then(function () { return self; });\n\n  return this.__init_promise;\n};\n\n\n////////////////////////////////////////////////////////////////////////////////\n// Methods below are for internal use from plugins\n\n\n// Simple decode base64 to typed array. Useful to load embedded webassembly\n// code. You probably don't need to call this method directly.\n//\nMultiMath.prototype.__base64decode = base64decode;\n\n\n// Increase current memory to include specified number of bytes. Do nothing if\n// size is already ok. You probably don't need to call this method directly,\n// because it will be invoked from `.__instance()`.\n//\nMultiMath.prototype.__reallocate = function mem_grow_to(bytes) {\n  if (!this.__memory) {\n    this.__memory = new WebAssembly.Memory({\n      initial: Math.ceil(bytes / (64 * 1024))\n    });\n    return this.__memory;\n  }\n\n  var mem_size = this.__memory.buffer.byteLength;\n\n  if (mem_size < bytes) {\n    this.__memory.grow(Math.ceil((bytes - mem_size) / (64 * 1024)));\n  }\n\n  return this.__memory;\n};\n\n\n// Returns instantinated webassembly item by name, with specified memory size\n// and environment.\n// - use cache if available\n// - do sync module init, if async init was not called earlier\n// - allocate memory if not enougth\n// - can export functions to webassembly via \"env_extra\",\n//   for example, { exp: Math.exp }\n//\nMultiMath.prototype.__instance = function instance(name, memsize, env_extra) {\n  if (memsize) this.__reallocate(memsize);\n\n  // If .init() was not called, do sync compile\n  if (!this.__wasm[name]) {\n    var module = this.__modules[name];\n    this.__wasm[name] = new WebAssembly.Module(this.__base64decode(module.wasm_src));\n  }\n\n  if (!this.__cache[name]) {\n    var env_base = {\n      memoryBase: 0,\n      memory: this.__memory,\n      tableBase: 0,\n      table: new WebAssembly.Table({ initial: 0, element: 'anyfunc' })\n    };\n\n    this.__cache[name] = new WebAssembly.Instance(this.__wasm[name], {\n      env: assign(env_base, env_extra || {})\n    });\n  }\n\n  return this.__cache[name];\n};\n\n\n// Helper to calculate memory aligh for pointers. Webassembly does not require\n// this, but you may wish to experiment. Default base = 8;\n//\nMultiMath.prototype.__align = function align(number, base) {\n  base = base || 8;\n  var reminder = number % base;\n  return number + (reminder ? base - reminder : 0);\n};\n\n\nmodule.exports = MultiMath;\n\n},{\"./lib/base64decode\":21,\"./lib/wa_detect\":22,\"object-assign\":23}],21:[function(_dereq_,module,exports){\n// base64 decode str -> Uint8Array, to load WA modules\n//\n'use strict';\n\n\nvar BASE64_MAP = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\n\nmodule.exports = function base64decode(str) {\n  var input = str.replace(/[\\r\\n=]/g, ''), // remove CR/LF & padding to simplify scan\n      max   = input.length;\n\n  var out = new Uint8Array((max * 3) >> 2);\n\n  // Collect by 6*4 bits (3 bytes)\n\n  var bits = 0;\n  var ptr  = 0;\n\n  for (var idx = 0; idx < max; idx++) {\n    if ((idx % 4 === 0) && idx) {\n      out[ptr++] = (bits >> 16) & 0xFF;\n      out[ptr++] = (bits >> 8) & 0xFF;\n      out[ptr++] = bits & 0xFF;\n    }\n\n    bits = (bits << 6) | BASE64_MAP.indexOf(input.charAt(idx));\n  }\n\n  // Dump tail\n\n  var tailbits = (max % 4) * 6;\n\n  if (tailbits === 0) {\n    out[ptr++] = (bits >> 16) & 0xFF;\n    out[ptr++] = (bits >> 8) & 0xFF;\n    out[ptr++] = bits & 0xFF;\n  } else if (tailbits === 18) {\n    out[ptr++] = (bits >> 10) & 0xFF;\n    out[ptr++] = (bits >> 2) & 0xFF;\n  } else if (tailbits === 12) {\n    out[ptr++] = (bits >> 4) & 0xFF;\n  }\n\n  return out;\n};\n\n},{}],22:[function(_dereq_,module,exports){\n// Detect WebAssembly support.\n// - Check global WebAssembly object\n// - Try to load simple module (can be disabled via CSP)\n//\n'use strict';\n\n\nvar wa;\n\n\nmodule.exports = function hasWebAssembly() {\n  // use cache if called before;\n  if (typeof wa !== 'undefined') return wa;\n\n  wa = false;\n\n  if (typeof WebAssembly === 'undefined') return wa;\n\n  // If WebAssenbly is disabled, code can throw on compile\n  try {\n    // https://github.com/brion/min-wasm-fail/blob/master/min-wasm-fail.in.js\n    // Additional check that WA internals are correct\n\n    /* eslint-disable comma-spacing, max-len */\n    var bin      = new Uint8Array([ 0,97,115,109,1,0,0,0,1,6,1,96,1,127,1,127,3,2,1,0,5,3,1,0,1,7,8,1,4,116,101,115,116,0,0,10,16,1,14,0,32,0,65,1,54,2,0,32,0,40,2,0,11 ]);\n    var module   = new WebAssembly.Module(bin);\n    var instance = new WebAssembly.Instance(module, {});\n\n    // test storing to and loading from a non-zero location via a parameter.\n    // Safari on iOS 11.2.5 returns 0 unexpectedly at non-zero locations\n    if (instance.exports.test(4) !== 0) wa = true;\n\n    return wa;\n  } catch (__) {}\n\n  return wa;\n};\n\n},{}],23:[function(_dereq_,module,exports){\n/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n\n},{}],24:[function(_dereq_,module,exports){\nvar bundleFn = arguments[3];\nvar sources = arguments[4];\nvar cache = arguments[5];\n\nvar stringify = JSON.stringify;\n\nmodule.exports = function (fn, options) {\n    var wkey;\n    var cacheKeys = Object.keys(cache);\n\n    for (var i = 0, l = cacheKeys.length; i < l; i++) {\n        var key = cacheKeys[i];\n        var exp = cache[key].exports;\n        // Using babel as a transpiler to use esmodule, the export will always\n        // be an object with the default export as a property of it. To ensure\n        // the existing api and babel esmodule exports are both supported we\n        // check for both\n        if (exp === fn || exp && exp.default === fn) {\n            wkey = key;\n            break;\n        }\n    }\n\n    if (!wkey) {\n        wkey = Math.floor(Math.pow(16, 8) * Math.random()).toString(16);\n        var wcache = {};\n        for (var i = 0, l = cacheKeys.length; i < l; i++) {\n            var key = cacheKeys[i];\n            wcache[key] = key;\n        }\n        sources[wkey] = [\n            'function(require,module,exports){' + fn + '(self); }',\n            wcache\n        ];\n    }\n    var skey = Math.floor(Math.pow(16, 8) * Math.random()).toString(16);\n\n    var scache = {}; scache[wkey] = wkey;\n    sources[skey] = [\n        'function(require,module,exports){' +\n            // try to call default if defined to also support babel esmodule exports\n            'var f = require(' + stringify(wkey) + ');' +\n            '(f.default ? f.default : f)(self);' +\n        '}',\n        scache\n    ];\n\n    var workerSources = {};\n    resolveSources(skey);\n\n    function resolveSources(key) {\n        workerSources[key] = true;\n\n        for (var depPath in sources[key][1]) {\n            var depKey = sources[key][1][depPath];\n            if (!workerSources[depKey]) {\n                resolveSources(depKey);\n            }\n        }\n    }\n\n    var src = '(' + bundleFn + ')({'\n        + Object.keys(workerSources).map(function (key) {\n            return stringify(key) + ':['\n                + sources[key][0]\n                + ',' + stringify(sources[key][1]) + ']'\n            ;\n        }).join(',')\n        + '},{},[' + stringify(skey) + '])'\n    ;\n\n    var URL = window.URL || window.webkitURL || window.mozURL || window.msURL;\n\n    var blob = new Blob([src], { type: 'text/javascript' });\n    if (options && options.bare) { return blob; }\n    var workerUrl = URL.createObjectURL(blob);\n    var worker = new Worker(workerUrl);\n    worker.objectURL = workerUrl;\n    return worker;\n};\n\n},{}],\"/index.js\":[function(_dereq_,module,exports){\n'use strict';\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nvar assign = _dereq_('object-assign');\n\nvar webworkify = _dereq_('webworkify');\n\nvar MathLib = _dereq_('./lib/mathlib');\n\nvar Pool = _dereq_('./lib/pool');\n\nvar utils = _dereq_('./lib/utils');\n\nvar worker = _dereq_('./lib/worker');\n\nvar createStages = _dereq_('./lib/stepper');\n\nvar createRegions = _dereq_('./lib/tiler'); // Deduplicate pools & limiters with the same configs\n// when user creates multiple pica instances.\n\n\nvar singletones = {};\nvar NEED_SAFARI_FIX = false;\n\ntry {\n  if (typeof navigator !== 'undefined' && navigator.userAgent) {\n    NEED_SAFARI_FIX = navigator.userAgent.indexOf('Safari') >= 0;\n  }\n} catch (e) {}\n\nvar concurrency = 1;\n\nif (typeof navigator !== 'undefined') {\n  concurrency = Math.min(navigator.hardwareConcurrency || 1, 4);\n}\n\nvar DEFAULT_PICA_OPTS = {\n  tile: 1024,\n  concurrency: concurrency,\n  features: ['js', 'wasm', 'ww'],\n  idle: 2000,\n  createCanvas: function createCanvas(width, height) {\n    var tmpCanvas = document.createElement('canvas');\n    tmpCanvas.width = width;\n    tmpCanvas.height = height;\n    return tmpCanvas;\n  }\n};\nvar DEFAULT_RESIZE_OPTS = {\n  quality: 3,\n  alpha: false,\n  unsharpAmount: 0,\n  unsharpRadius: 0.0,\n  unsharpThreshold: 0\n};\nvar CAN_NEW_IMAGE_DATA = false;\nvar CAN_CREATE_IMAGE_BITMAP = false;\nvar CAN_USE_CANVAS_GET_IMAGE_DATA = false;\nvar CAN_USE_OFFSCREEN_CANVAS = false;\nvar CAN_USE_CIB_REGION_FOR_IMAGE = false;\n\nfunction workerFabric() {\n  return {\n    value: webworkify(worker),\n    destroy: function destroy() {\n      this.value.terminate();\n\n      if (typeof window !== 'undefined') {\n        var url = window.URL || window.webkitURL || window.mozURL || window.msURL;\n\n        if (url && url.revokeObjectURL && this.value.objectURL) {\n          url.revokeObjectURL(this.value.objectURL);\n        }\n      }\n    }\n  };\n} ////////////////////////////////////////////////////////////////////////////////\n// API methods\n\n\nfunction Pica(options) {\n  if (!(this instanceof Pica)) return new Pica(options);\n  this.options = assign({}, DEFAULT_PICA_OPTS, options || {});\n  var limiter_key = \"lk_\".concat(this.options.concurrency); // Share limiters to avoid multiple parallel workers when user creates\n  // multiple pica instances.\n\n  this.__limit = singletones[limiter_key] || utils.limiter(this.options.concurrency);\n  if (!singletones[limiter_key]) singletones[limiter_key] = this.__limit; // List of supported features, according to options & browser/node.js\n\n  this.features = {\n    js: false,\n    // pure JS implementation, can be disabled for testing\n    wasm: false,\n    // webassembly implementation for heavy functions\n    cib: false,\n    // resize via createImageBitmap (only FF at this moment)\n    ww: false // webworkers\n\n  };\n  this.__workersPool = null; // Store requested features for webworkers\n\n  this.__requested_features = [];\n  this.__mathlib = null;\n}\n\nPica.prototype.init = function () {\n  var _this = this;\n\n  if (this.__initPromise) return this.__initPromise; // Test if we can create ImageData without canvas and memory copy\n\n  if (typeof ImageData !== 'undefined' && typeof Uint8ClampedArray !== 'undefined') {\n    try {\n      /* eslint-disable no-new */\n      new ImageData(new Uint8ClampedArray(400), 10, 10);\n      CAN_NEW_IMAGE_DATA = true;\n    } catch (__) {}\n  } // ImageBitmap can be effective in 2 places:\n  //\n  // 1. Threaded jpeg unpack (basic)\n  // 2. Built-in resize (blocked due problem in chrome, see issue #89)\n  //\n  // For basic use we also need ImageBitmap wo support .close() method,\n  // see https://developer.mozilla.org/ru/docs/Web/API/ImageBitmap\n\n\n  if (typeof ImageBitmap !== 'undefined') {\n    if (ImageBitmap.prototype && ImageBitmap.prototype.close) {\n      CAN_CREATE_IMAGE_BITMAP = true;\n    } else {\n      this.debug('ImageBitmap does not support .close(), disabled');\n    }\n  }\n\n  var features = this.options.features.slice();\n\n  if (features.indexOf('all') >= 0) {\n    features = ['cib', 'wasm', 'js', 'ww'];\n  }\n\n  this.__requested_features = features;\n  this.__mathlib = new MathLib(features); // Check WebWorker support if requested\n\n  if (features.indexOf('ww') >= 0) {\n    if (typeof window !== 'undefined' && 'Worker' in window) {\n      // IE <= 11 don't allow to create webworkers from string. We should check it.\n      // https://connect.microsoft.com/IE/feedback/details/801810/web-workers-from-blob-urls-in-ie-10-and-11\n      try {\n        var wkr = _dereq_('webworkify')(function () {});\n\n        wkr.terminate();\n        this.features.ww = true; // pool uniqueness depends on pool config + webworker config\n\n        var wpool_key = \"wp_\".concat(JSON.stringify(this.options));\n\n        if (singletones[wpool_key]) {\n          this.__workersPool = singletones[wpool_key];\n        } else {\n          this.__workersPool = new Pool(workerFabric, this.options.idle);\n          singletones[wpool_key] = this.__workersPool;\n        }\n      } catch (__) {}\n    }\n  }\n\n  var initMath = this.__mathlib.init().then(function (mathlib) {\n    // Copy detected features\n    assign(_this.features, mathlib.features);\n  });\n\n  var checkCibResize;\n\n  if (!CAN_CREATE_IMAGE_BITMAP) {\n    checkCibResize = Promise.resolve(false);\n  } else {\n    checkCibResize = utils.cib_support(this.options.createCanvas).then(function (status) {\n      if (_this.features.cib && features.indexOf('cib') < 0) {\n        _this.debug('createImageBitmap() resize supported, but disabled by config');\n\n        return;\n      }\n\n      if (features.indexOf('cib') >= 0) _this.features.cib = status;\n    });\n  }\n\n  CAN_USE_CANVAS_GET_IMAGE_DATA = utils.can_use_canvas(this.options.createCanvas);\n  var checkOffscreenCanvas;\n\n  if (CAN_CREATE_IMAGE_BITMAP && CAN_NEW_IMAGE_DATA && features.indexOf('ww') !== -1) {\n    checkOffscreenCanvas = utils.worker_offscreen_canvas_support();\n  } else {\n    checkOffscreenCanvas = Promise.resolve(false);\n  }\n\n  checkOffscreenCanvas = checkOffscreenCanvas.then(function (result) {\n    CAN_USE_OFFSCREEN_CANVAS = result;\n  }); // we use createImageBitmap to crop image data and pass it to workers,\n  // so need to check whether function works correctly;\n  // https://bugs.chromium.org/p/chromium/issues/detail?id=1220671\n\n  var checkCibRegion = utils.cib_can_use_region().then(function (result) {\n    CAN_USE_CIB_REGION_FOR_IMAGE = result;\n  }); // Init math lib. That's async because can load some\n\n  this.__initPromise = Promise.all([initMath, checkCibResize, checkOffscreenCanvas, checkCibRegion]).then(function () {\n    return _this;\n  });\n  return this.__initPromise;\n}; // Call resizer in webworker or locally, depending on config\n\n\nPica.prototype.__invokeResize = function (tileOpts, opts) {\n  var _this2 = this;\n\n  // Share cache between calls:\n  //\n  // - wasm instance\n  // - wasm memory object\n  //\n  opts.__mathCache = opts.__mathCache || {};\n  return Promise.resolve().then(function () {\n    if (!_this2.features.ww) {\n      // not possible to have ImageBitmap here if user disabled WW\n      return {\n        data: _this2.__mathlib.resizeAndUnsharp(tileOpts, opts.__mathCache)\n      };\n    }\n\n    return new Promise(function (resolve, reject) {\n      var w = _this2.__workersPool.acquire();\n\n      if (opts.cancelToken) opts.cancelToken[\"catch\"](function (err) {\n        return reject(err);\n      });\n\n      w.value.onmessage = function (ev) {\n        w.release();\n        if (ev.data.err) reject(ev.data.err);else resolve(ev.data);\n      };\n\n      var transfer = [];\n      if (tileOpts.src) transfer.push(tileOpts.src.buffer);\n      if (tileOpts.srcBitmap) transfer.push(tileOpts.srcBitmap);\n      w.value.postMessage({\n        opts: tileOpts,\n        features: _this2.__requested_features,\n        preload: {\n          wasm_nodule: _this2.__mathlib.__\n        }\n      }, transfer);\n    });\n  });\n}; // this function can return promise if createImageBitmap is used\n\n\nPica.prototype.__extractTileData = function (tile, from, opts, stageEnv, extractTo) {\n  if (this.features.ww && CAN_USE_OFFSCREEN_CANVAS && ( // createImageBitmap doesn't work for images (Image, ImageBitmap) with Exif orientation in Chrome,\n  // can use canvas because canvas doesn't have orientation;\n  // see https://bugs.chromium.org/p/chromium/issues/detail?id=1220671\n  utils.isCanvas(from) || CAN_USE_CIB_REGION_FOR_IMAGE)) {\n    this.debug('Create tile for OffscreenCanvas');\n    return createImageBitmap(stageEnv.srcImageBitmap || from, tile.x, tile.y, tile.width, tile.height).then(function (bitmap) {\n      extractTo.srcBitmap = bitmap;\n      return extractTo;\n    });\n  } // Extract tile RGBA buffer, depending on input type\n\n\n  if (utils.isCanvas(from)) {\n    if (!stageEnv.srcCtx) stageEnv.srcCtx = from.getContext('2d', {\n      alpha: Boolean(opts.alpha)\n    }); // If input is Canvas - extract region data directly\n\n    this.debug('Get tile pixel data');\n    extractTo.src = stageEnv.srcCtx.getImageData(tile.x, tile.y, tile.width, tile.height).data;\n    return extractTo;\n  } // If input is Image or decoded to ImageBitmap,\n  // draw region to temporary canvas and extract data from it\n  //\n  // Note! Attempt to reuse this canvas causes significant slowdown in chrome\n  //\n\n\n  this.debug('Draw tile imageBitmap/image to temporary canvas');\n  var tmpCanvas = this.options.createCanvas(tile.width, tile.height);\n  var tmpCtx = tmpCanvas.getContext('2d', {\n    alpha: Boolean(opts.alpha)\n  });\n  tmpCtx.globalCompositeOperation = 'copy';\n  tmpCtx.drawImage(stageEnv.srcImageBitmap || from, tile.x, tile.y, tile.width, tile.height, 0, 0, tile.width, tile.height);\n  this.debug('Get tile pixel data');\n  extractTo.src = tmpCtx.getImageData(0, 0, tile.width, tile.height).data; // Safari 12 workaround\n  // https://github.com/nodeca/pica/issues/199\n\n  tmpCanvas.width = tmpCanvas.height = 0;\n  return extractTo;\n};\n\nPica.prototype.__landTileData = function (tile, result, stageEnv) {\n  var toImageData;\n  this.debug('Convert raw rgba tile result to ImageData');\n\n  if (result.bitmap) {\n    stageEnv.toCtx.drawImage(result.bitmap, tile.toX, tile.toY);\n    return null;\n  }\n\n  if (CAN_NEW_IMAGE_DATA) {\n    // this branch is for modern browsers\n    // If `new ImageData()` & Uint8ClampedArray suported\n    toImageData = new ImageData(new Uint8ClampedArray(result.data), tile.toWidth, tile.toHeight);\n  } else {\n    // fallback for `node-canvas` and old browsers\n    // (IE11 has ImageData but does not support `new ImageData()`)\n    toImageData = stageEnv.toCtx.createImageData(tile.toWidth, tile.toHeight);\n\n    if (toImageData.data.set) {\n      toImageData.data.set(result.data);\n    } else {\n      // IE9 don't have `.set()`\n      for (var i = toImageData.data.length - 1; i >= 0; i--) {\n        toImageData.data[i] = result.data[i];\n      }\n    }\n  }\n\n  this.debug('Draw tile');\n\n  if (NEED_SAFARI_FIX) {\n    // Safari draws thin white stripes between tiles without this fix\n    stageEnv.toCtx.putImageData(toImageData, tile.toX, tile.toY, tile.toInnerX - tile.toX, tile.toInnerY - tile.toY, tile.toInnerWidth + 1e-5, tile.toInnerHeight + 1e-5);\n  } else {\n    stageEnv.toCtx.putImageData(toImageData, tile.toX, tile.toY, tile.toInnerX - tile.toX, tile.toInnerY - tile.toY, tile.toInnerWidth, tile.toInnerHeight);\n  }\n\n  return null;\n};\n\nPica.prototype.__tileAndResize = function (from, to, opts) {\n  var _this3 = this;\n\n  var stageEnv = {\n    srcCtx: null,\n    srcImageBitmap: null,\n    isImageBitmapReused: false,\n    toCtx: null\n  };\n\n  var processTile = function processTile(tile) {\n    return _this3.__limit(function () {\n      if (opts.canceled) return opts.cancelToken;\n      var tileOpts = {\n        width: tile.width,\n        height: tile.height,\n        toWidth: tile.toWidth,\n        toHeight: tile.toHeight,\n        scaleX: tile.scaleX,\n        scaleY: tile.scaleY,\n        offsetX: tile.offsetX,\n        offsetY: tile.offsetY,\n        quality: opts.quality,\n        alpha: opts.alpha,\n        unsharpAmount: opts.unsharpAmount,\n        unsharpRadius: opts.unsharpRadius,\n        unsharpThreshold: opts.unsharpThreshold\n      };\n\n      _this3.debug('Invoke resize math');\n\n      return Promise.resolve(tileOpts).then(function (tileOpts) {\n        return _this3.__extractTileData(tile, from, opts, stageEnv, tileOpts);\n      }).then(function (tileOpts) {\n        _this3.debug('Invoke resize math');\n\n        return _this3.__invokeResize(tileOpts, opts);\n      }).then(function (result) {\n        if (opts.canceled) return opts.cancelToken;\n        stageEnv.srcImageData = null;\n        return _this3.__landTileData(tile, result, stageEnv);\n      });\n    });\n  }; // Need to normalize data source first. It can be canvas or image.\n  // If image - try to decode in background if possible\n\n\n  return Promise.resolve().then(function () {\n    stageEnv.toCtx = to.getContext('2d', {\n      alpha: Boolean(opts.alpha)\n    });\n    if (utils.isCanvas(from)) return null;\n\n    if (utils.isImageBitmap(from)) {\n      stageEnv.srcImageBitmap = from;\n      stageEnv.isImageBitmapReused = true;\n      return null;\n    }\n\n    if (utils.isImage(from)) {\n      // try do decode image in background for faster next operations;\n      // if we're using offscreen canvas, cib is called per tile, so not needed here\n      if (!CAN_CREATE_IMAGE_BITMAP) return null;\n\n      _this3.debug('Decode image via createImageBitmap');\n\n      return createImageBitmap(from).then(function (imageBitmap) {\n        stageEnv.srcImageBitmap = imageBitmap;\n      }) // Suppress error to use fallback, if method fails\n      // https://github.com/nodeca/pica/issues/190\n\n      /* eslint-disable no-unused-vars */\n      [\"catch\"](function (e) {\n        return null;\n      });\n    }\n\n    throw new Error('Pica: \".from\" should be Image, Canvas or ImageBitmap');\n  }).then(function () {\n    if (opts.canceled) return opts.cancelToken;\n\n    _this3.debug('Calculate tiles'); //\n    // Here we are with \"normalized\" source,\n    // follow to tiling\n    //\n\n\n    var regions = createRegions({\n      width: opts.width,\n      height: opts.height,\n      srcTileSize: _this3.options.tile,\n      toWidth: opts.toWidth,\n      toHeight: opts.toHeight,\n      destTileBorder: opts.__destTileBorder\n    });\n    var jobs = regions.map(function (tile) {\n      return processTile(tile);\n    });\n\n    function cleanup(stageEnv) {\n      if (stageEnv.srcImageBitmap) {\n        if (!stageEnv.isImageBitmapReused) stageEnv.srcImageBitmap.close();\n        stageEnv.srcImageBitmap = null;\n      }\n    }\n\n    _this3.debug('Process tiles');\n\n    return Promise.all(jobs).then(function () {\n      _this3.debug('Finished!');\n\n      cleanup(stageEnv);\n      return to;\n    }, function (err) {\n      cleanup(stageEnv);\n      throw err;\n    });\n  });\n};\n\nPica.prototype.__processStages = function (stages, from, to, opts) {\n  var _this4 = this;\n\n  if (opts.canceled) return opts.cancelToken;\n\n  var _stages$shift = stages.shift(),\n      _stages$shift2 = _slicedToArray(_stages$shift, 2),\n      toWidth = _stages$shift2[0],\n      toHeight = _stages$shift2[1];\n\n  var isLastStage = stages.length === 0;\n  opts = assign({}, opts, {\n    toWidth: toWidth,\n    toHeight: toHeight,\n    // only use user-defined quality for the last stage,\n    // use simpler (Hamming) filter for the first stages where\n    // scale factor is large enough (more than 2-3)\n    quality: isLastStage ? opts.quality : Math.min(1, opts.quality)\n  });\n  var tmpCanvas;\n\n  if (!isLastStage) {\n    // create temporary canvas\n    tmpCanvas = this.options.createCanvas(toWidth, toHeight);\n  }\n\n  return this.__tileAndResize(from, isLastStage ? to : tmpCanvas, opts).then(function () {\n    if (isLastStage) return to;\n    opts.width = toWidth;\n    opts.height = toHeight;\n    return _this4.__processStages(stages, tmpCanvas, to, opts);\n  }).then(function (res) {\n    if (tmpCanvas) {\n      // Safari 12 workaround\n      // https://github.com/nodeca/pica/issues/199\n      tmpCanvas.width = tmpCanvas.height = 0;\n    }\n\n    return res;\n  });\n};\n\nPica.prototype.__resizeViaCreateImageBitmap = function (from, to, opts) {\n  var _this5 = this;\n\n  var toCtx = to.getContext('2d', {\n    alpha: Boolean(opts.alpha)\n  });\n  this.debug('Resize via createImageBitmap()');\n  return createImageBitmap(from, {\n    resizeWidth: opts.toWidth,\n    resizeHeight: opts.toHeight,\n    resizeQuality: utils.cib_quality_name(opts.quality)\n  }).then(function (imageBitmap) {\n    if (opts.canceled) return opts.cancelToken; // if no unsharp - draw directly to output canvas\n\n    if (!opts.unsharpAmount) {\n      toCtx.drawImage(imageBitmap, 0, 0);\n      imageBitmap.close();\n      toCtx = null;\n\n      _this5.debug('Finished!');\n\n      return to;\n    }\n\n    _this5.debug('Unsharp result');\n\n    var tmpCanvas = _this5.options.createCanvas(opts.toWidth, opts.toHeight);\n\n    var tmpCtx = tmpCanvas.getContext('2d', {\n      alpha: Boolean(opts.alpha)\n    });\n    tmpCtx.drawImage(imageBitmap, 0, 0);\n    imageBitmap.close();\n    var iData = tmpCtx.getImageData(0, 0, opts.toWidth, opts.toHeight);\n\n    _this5.__mathlib.unsharp_mask(iData.data, opts.toWidth, opts.toHeight, opts.unsharpAmount, opts.unsharpRadius, opts.unsharpThreshold);\n\n    toCtx.putImageData(iData, 0, 0); // Safari 12 workaround\n    // https://github.com/nodeca/pica/issues/199\n\n    tmpCanvas.width = tmpCanvas.height = 0;\n    iData = tmpCtx = tmpCanvas = toCtx = null;\n\n    _this5.debug('Finished!');\n\n    return to;\n  });\n};\n\nPica.prototype.resize = function (from, to, options) {\n  var _this6 = this;\n\n  this.debug('Start resize...');\n  var opts = assign({}, DEFAULT_RESIZE_OPTS);\n\n  if (!isNaN(options)) {\n    opts = assign(opts, {\n      quality: options\n    });\n  } else if (options) {\n    opts = assign(opts, options);\n  }\n\n  opts.toWidth = to.width;\n  opts.toHeight = to.height;\n  opts.width = from.naturalWidth || from.width;\n  opts.height = from.naturalHeight || from.height; // Prevent stepper from infinite loop\n\n  if (to.width === 0 || to.height === 0) {\n    return Promise.reject(new Error(\"Invalid output size: \".concat(to.width, \"x\").concat(to.height)));\n  }\n\n  if (opts.unsharpRadius > 2) opts.unsharpRadius = 2;\n  opts.canceled = false;\n\n  if (opts.cancelToken) {\n    // Wrap cancelToken to avoid successive resolve & set flag\n    opts.cancelToken = opts.cancelToken.then(function (data) {\n      opts.canceled = true;\n      throw data;\n    }, function (err) {\n      opts.canceled = true;\n      throw err;\n    });\n  }\n\n  var DEST_TILE_BORDER = 3; // Max possible filter window size\n\n  opts.__destTileBorder = Math.ceil(Math.max(DEST_TILE_BORDER, 2.5 * opts.unsharpRadius | 0));\n  return this.init().then(function () {\n    if (opts.canceled) return opts.cancelToken; // if createImageBitmap supports resize, just do it and return\n\n    if (_this6.features.cib) {\n      return _this6.__resizeViaCreateImageBitmap(from, to, opts);\n    }\n\n    if (!CAN_USE_CANVAS_GET_IMAGE_DATA) {\n      var err = new Error('Pica: cannot use getImageData on canvas, ' + \"make sure fingerprinting protection isn't enabled\");\n      err.code = 'ERR_GET_IMAGE_DATA';\n      throw err;\n    } //\n    // No easy way, let's resize manually via arrays\n    //\n\n\n    var stages = createStages(opts.width, opts.height, opts.toWidth, opts.toHeight, _this6.options.tile, opts.__destTileBorder);\n    return _this6.__processStages(stages, from, to, opts);\n  });\n}; // RGBA buffer resize\n//\n\n\nPica.prototype.resizeBuffer = function (options) {\n  var _this7 = this;\n\n  var opts = assign({}, DEFAULT_RESIZE_OPTS, options);\n  return this.init().then(function () {\n    return _this7.__mathlib.resizeAndUnsharp(opts);\n  });\n};\n\nPica.prototype.toBlob = function (canvas, mimeType, quality) {\n  mimeType = mimeType || 'image/png';\n  return new Promise(function (resolve) {\n    if (canvas.toBlob) {\n      canvas.toBlob(function (blob) {\n        return resolve(blob);\n      }, mimeType, quality);\n      return;\n    }\n\n    if (canvas.convertToBlob) {\n      resolve(canvas.convertToBlob({\n        type: mimeType,\n        quality: quality\n      }));\n      return;\n    } // Fallback for old browsers\n\n\n    var asString = atob(canvas.toDataURL(mimeType, quality).split(',')[1]);\n    var len = asString.length;\n    var asBuffer = new Uint8Array(len);\n\n    for (var i = 0; i < len; i++) {\n      asBuffer[i] = asString.charCodeAt(i);\n    }\n\n    resolve(new Blob([asBuffer], {\n      type: mimeType\n    }));\n  });\n};\n\nPica.prototype.debug = function () {};\n\nmodule.exports = Pica;\n\n},{\"./lib/mathlib\":1,\"./lib/pool\":13,\"./lib/stepper\":14,\"./lib/tiler\":15,\"./lib/utils\":16,\"./lib/worker\":17,\"object-assign\":23,\"webworkify\":24}]},{},[])(\"/index.js\")\n});\n"],
  "mappings": "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",
  "names": ["define", "module", "exports", "i", "r", "n", "self", "onmessage", "key", "processTile", "tileOpts", "stageEnv"]
}
